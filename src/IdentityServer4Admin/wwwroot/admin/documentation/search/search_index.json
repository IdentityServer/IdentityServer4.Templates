{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"index.html","text":"This documentation will clearly show you how to undertake all IdentityServer configuration tasks: Including authorizing new client applications by application type Configure protected & identity resources Manage users and assigning them identity roles and identity claims. After reading these documents, you will also understand how to deploy the AdminUI using Docker, IIS & Azure including download, configuration and installation. The IdentityExpress AdminUI consists of two sites: the UI, and the backend API. For additional support email support@identityserver.com","title":"About"},{"location":"Access_Policy/Access_Policy.html","text":"Introduction Access Policy maps claim values to permissions, each time a user attempts to perform some administrator functionality their claims are evaluated against the policy to produce a set of permissions. Only if they have the appropriate permission will they be able to execute the functionality. Managing your access policy In order to manage your access policy, you will need to have the \u2018All\u2019 permission. Access Policy Management is available in the Settings tab, new policies can be added and removed here. After making any changes you will need to save your changes in order for them to take effect. To make use of this new policy, you will need to give this new claim to a user. Users can get permissions from multiple access policy statements. Only users with the \u2018All\u2019 permission are able to assign claims referenced in the access policy to themselves or other users. Warning: any user that already has the claim in the access policy you are adding will be given the permission. This is also true if an access policy is removed, where any users with that claim will lose that permission. Permissions Users without any permissions will be greeted with an unauthorized screen after logging in. Currently, there are three permissions available, each giving access to different actions within AdminUI: User Manager This permission grants control over User and Role management Identity Server Manager This permission allows users to create and modify ClaimTypes, Clients, Identity Resources, and Protected Resources All This permission allows all of the above and control over Access Policy Management By default, the 'AdminUI Administrator' role is set up by default with the All permission. This mapping cannot be removed.","title":"Access Policy"},{"location":"Access_Policy/Access_Policy.html#introduction","text":"Access Policy maps claim values to permissions, each time a user attempts to perform some administrator functionality their claims are evaluated against the policy to produce a set of permissions. Only if they have the appropriate permission will they be able to execute the functionality.","title":"Introduction"},{"location":"Access_Policy/Access_Policy.html#managing-your-access-policy","text":"In order to manage your access policy, you will need to have the \u2018All\u2019 permission. Access Policy Management is available in the Settings tab, new policies can be added and removed here. After making any changes you will need to save your changes in order for them to take effect. To make use of this new policy, you will need to give this new claim to a user. Users can get permissions from multiple access policy statements. Only users with the \u2018All\u2019 permission are able to assign claims referenced in the access policy to themselves or other users. Warning: any user that already has the claim in the access policy you are adding will be given the permission. This is also true if an access policy is removed, where any users with that claim will lose that permission.","title":"Managing your access policy"},{"location":"Access_Policy/Access_Policy.html#permissions","text":"Users without any permissions will be greeted with an unauthorized screen after logging in. Currently, there are three permissions available, each giving access to different actions within AdminUI: User Manager This permission grants control over User and Role management Identity Server Manager This permission allows users to create and modify ClaimTypes, Clients, Identity Resources, and Protected Resources All This permission allows all of the above and control over Access Policy Management By default, the 'AdminUI Administrator' role is set up by default with the All permission. This mapping cannot be removed.","title":"Permissions"},{"location":"Audit/Auditing.html","text":"Auditing within AdminUI Audit records can either be viewed through the main navigation bar option Auditing, or through the Auditing tab on a User or Resource. On these pages you can: Filter audit records Time based Source, Origin of the audit event Action, the action of the event Resource, the entity the action was applied to Source, the entity performing the action Download audit records in CSV format To view audit records you need to either have the Auditing permission or All permission. Auditing Configuration The following configuration settings can be used to control Auditing within AdminUI AuditRecordsConnectionString The database connection string for AdminUI audits, if missing will default to the IdentityServerConnectionString AuditRecordsCulture Language used for generation of audit records, if missing or invalid will default to English (en-GB), supported cultures and their values are: de German zh-TW Chinese (Traditional) zh-CN Chinese (Simplified) es Spanish fr French AuditReadActions Set to true or false , if missing will default to true , if false no audit records will be generated for read actions e.g when a user views resources though AdminUI IdentityServer Auditing Events that happen inside IdentityServer can be recorded into the same audit database as AdminUI, providing a single view of all Identity related events. To learn how to integrate your IdentityServer auditing into AdminUI, follow our walkthrough here","title":"Auditing"},{"location":"Audit/Auditing.html#auditing-within-adminui","text":"Audit records can either be viewed through the main navigation bar option Auditing, or through the Auditing tab on a User or Resource. On these pages you can: Filter audit records Time based Source, Origin of the audit event Action, the action of the event Resource, the entity the action was applied to Source, the entity performing the action Download audit records in CSV format To view audit records you need to either have the Auditing permission or All permission.","title":"Auditing within AdminUI"},{"location":"Audit/Auditing.html#auditing-configuration","text":"The following configuration settings can be used to control Auditing within AdminUI AuditRecordsConnectionString The database connection string for AdminUI audits, if missing will default to the IdentityServerConnectionString AuditRecordsCulture Language used for generation of audit records, if missing or invalid will default to English (en-GB), supported cultures and their values are: de German zh-TW Chinese (Traditional) zh-CN Chinese (Simplified) es Spanish fr French AuditReadActions Set to true or false , if missing will default to true , if false no audit records will be generated for read actions e.g when a user views resources though AdminUI","title":"Auditing Configuration"},{"location":"Audit/Auditing.html#identityserver-auditing","text":"Events that happen inside IdentityServer can be recorded into the same audit database as AdminUI, providing a single view of all Identity related events. To learn how to integrate your IdentityServer auditing into AdminUI, follow our walkthrough here","title":"IdentityServer Auditing"},{"location":"Claim_Types/Managing_Claimtypes.html","text":"Searching for Claim Types You can find Claim Types in the application using the Search functionality. Start typing and the Claim Type will appear if there is a match. Create Claim To create a Claim Type click the \"Add Claim Type\" on the Claim Types list screen. A dialog will appear enabling you to create a new the Claim Type: Once you have entered all details for your Claim Type, click the \"Add\" button, you should then see a success dialogue informing you that your Claim Type has been created. Editing a Claim Type Select the Claim Type you want to edit, this will open the Claim Type details screen. From this screen you can modify the properties of the Claim Type. Once you have made the edits you require, click Save, and you should then see a success dialogue informing you that your changes have been saved. Deleting a Claim Type Claim Types can be deleted through the \"Delete\" button on the Claim Types details screen. On deletion, any user that has a claim of that type will have that claim removed. This action cannot be undone. Reserved Claim Types Some Claim Types that are integral to IdentityServer functionality will be marked as reserved , they cannot be deleted and have restricted editability.","title":"Claim Types"},{"location":"Claim_Types/Managing_Claimtypes.html#searching-for-claim-types","text":"You can find Claim Types in the application using the Search functionality. Start typing and the Claim Type will appear if there is a match.","title":"Searching for Claim Types"},{"location":"Claim_Types/Managing_Claimtypes.html#create-claim","text":"To create a Claim Type click the \"Add Claim Type\" on the Claim Types list screen. A dialog will appear enabling you to create a new the Claim Type: Once you have entered all details for your Claim Type, click the \"Add\" button, you should then see a success dialogue informing you that your Claim Type has been created.","title":"Create Claim"},{"location":"Claim_Types/Managing_Claimtypes.html#editing-a-claim-type","text":"Select the Claim Type you want to edit, this will open the Claim Type details screen. From this screen you can modify the properties of the Claim Type. Once you have made the edits you require, click Save, and you should then see a success dialogue informing you that your changes have been saved.","title":"Editing a Claim Type"},{"location":"Claim_Types/Managing_Claimtypes.html#deleting-a-claim-type","text":"Claim Types can be deleted through the \"Delete\" button on the Claim Types details screen. On deletion, any user that has a claim of that type will have that claim removed. This action cannot be undone.","title":"Deleting a Claim Type"},{"location":"Claim_Types/Managing_Claimtypes.html#reserved-claim-types","text":"Some Claim Types that are integral to IdentityServer functionality will be marked as reserved , they cannot be deleted and have restricted editability.","title":"Reserved Claim Types"},{"location":"Clients/Adding_Clients.html","text":"Adding a Client From the Clients page, click the \"Add Client\" button Client Type Choose the client type you require from the 8 available options: Single Page App A client-side application running in a browser. Web App A server-side application running on your infrastructure. Native A desktop or mobile application running on a user's device. Machine A machine-to-machine method of communication. Device An IoT application or otherwise browserless or input constrained device. SAML Service Provider A SAML 2.0 service provider commonly used by government and educational institutions. WS-Fed Relying Party A WS-Federation relying party commonly used by older Microsoft applications. Single Page App (legacy) A client-side application running in a browser using previous OAuth Working Group recommendations. Proceed with the required Client and follow instructions for each client type. For this example i will be setting up a Single Page application, many of these steps are relevant when setting up other client types. After selecting the SPA options you will see a dialogue enabling you to add the following: Client ID Unique identifier Display Name Application name that will be seen on Consent Screens Display URL Application URL that will be seen on Consent Screens Logo URL Application Logo that will be seen on Consent Screens. Note - must be HTTPS Description Application description for use within AdminUI Require Consent Specifies whether a consent screen is required for this client Click next once all details have been filled in as required: SPA Callback Url You will be asked to enter a Callback URL, which is the endpoint where tokens will be sent to. This can be configured more after setup, and is the full path of the redirect URL. This must be over HTTPS: SPA Logout Url You will next be asked to enter a Post-Logout URL. This is optional and you can configure more after setup - it is where users can be returned to after logging out. This must be HTTPS: SPA Identity Resources You will next be asked to select the Identity Resources that this client can access: SPA Protected Resources At this point, you can now choose the Protected Resources that this client can access: SPA Details Review You will get the chance to finally review all details at the end of the application process, when you will see a summary of all details entered so far. To edit, click the pencil icon and you will be returned to the page to amend those details. For instance, editing the Display Name will return you to the Basic Details Back If at any point after entering the basic details you wish to go back, you can navigate backwards and forwards within the application using the links at the foot of the modal, or cancel out of the entire process: Success Once clicking submit, you will have successfully added a SPA Client. Secrets For relevant clients, you will be asked to optionally add some secrets. You can select a Secret Type of either a Shared Secret or an X509 Certificate Thumbprint . Once you have filled out and entered the required Secret details, click \"Add\" and the Secret will be added to the client on creation","title":"Adding Clients"},{"location":"Clients/Adding_Clients.html#adding-a-client","text":"From the Clients page, click the \"Add Client\" button","title":"Adding a Client"},{"location":"Clients/Adding_Clients.html#client-type","text":"Choose the client type you require from the 8 available options: Single Page App A client-side application running in a browser. Web App A server-side application running on your infrastructure. Native A desktop or mobile application running on a user's device. Machine A machine-to-machine method of communication. Device An IoT application or otherwise browserless or input constrained device. SAML Service Provider A SAML 2.0 service provider commonly used by government and educational institutions. WS-Fed Relying Party A WS-Federation relying party commonly used by older Microsoft applications. Single Page App (legacy) A client-side application running in a browser using previous OAuth Working Group recommendations. Proceed with the required Client and follow instructions for each client type. For this example i will be setting up a Single Page application, many of these steps are relevant when setting up other client types. After selecting the SPA options you will see a dialogue enabling you to add the following: Client ID Unique identifier Display Name Application name that will be seen on Consent Screens Display URL Application URL that will be seen on Consent Screens Logo URL Application Logo that will be seen on Consent Screens. Note - must be HTTPS Description Application description for use within AdminUI Require Consent Specifies whether a consent screen is required for this client Click next once all details have been filled in as required:","title":"Client Type"},{"location":"Clients/Adding_Clients.html#spa-callback-url","text":"You will be asked to enter a Callback URL, which is the endpoint where tokens will be sent to. This can be configured more after setup, and is the full path of the redirect URL. This must be over HTTPS:","title":"SPA Callback Url"},{"location":"Clients/Adding_Clients.html#spa-logout-url","text":"You will next be asked to enter a Post-Logout URL. This is optional and you can configure more after setup - it is where users can be returned to after logging out. This must be HTTPS:","title":"SPA Logout Url"},{"location":"Clients/Adding_Clients.html#spa-identity-resources","text":"You will next be asked to select the Identity Resources that this client can access:","title":"SPA Identity Resources"},{"location":"Clients/Adding_Clients.html#spa-protected-resources","text":"At this point, you can now choose the Protected Resources that this client can access:","title":"SPA Protected Resources"},{"location":"Clients/Adding_Clients.html#spa-details-review","text":"You will get the chance to finally review all details at the end of the application process, when you will see a summary of all details entered so far. To edit, click the pencil icon and you will be returned to the page to amend those details. For instance, editing the Display Name will return you to the Basic Details","title":"SPA Details Review"},{"location":"Clients/Adding_Clients.html#back","text":"If at any point after entering the basic details you wish to go back, you can navigate backwards and forwards within the application using the links at the foot of the modal, or cancel out of the entire process:","title":"Back"},{"location":"Clients/Adding_Clients.html#success","text":"Once clicking submit, you will have successfully added a SPA Client.","title":"Success"},{"location":"Clients/Adding_Clients.html#secrets","text":"For relevant clients, you will be asked to optionally add some secrets. You can select a Secret Type of either a Shared Secret or an X509 Certificate Thumbprint . Once you have filled out and entered the required Secret details, click \"Add\" and the Secret will be added to the client on creation","title":"Secrets"},{"location":"Clients/Adding_a_Saml_client.html","text":"Setting up a SAML Client with AdminUI and SAML2P In order to set up a new SAML Service Provider client you will need to Navigate to /clients and click the \"Add Client\" button and select SAML Service Provider from the list of client types. *Note you will need a license for SAML2P in order to integrate with a SAML Client. You can get a demo license by visiting our SAML2P product page If you have a SAML metadata document from the SAML Identity Provider you are connecting to, you can fill in most of these fields using that. Name Type Description EntityID SAML Entity ID SAML Entity ID (This will be in the metadata document) DisplayName Client display name Client Display Name used in AdminUI, this has no effect on the Client itself Description (Optional) Description of the client Description of the Client, may be left blank. ASC Endpoint (http:// or https://) AssertionConsumerService AssertionConsumerService, can be found in your metadata file, made of an Endpoint, an Index and a binding type. SLO Endpoint (Optional) (http:// or https://) SingleLogoutService SingleLogoutService, can be found in your metadata file, made of an Endpoint, an Index and a binding type. *ACS/SLO Endpoints are required to be in a valid http:// or https:// format. Although it is always recommended to use TLS in production for security. If additional ACS/SLO Endpoints are required, they may be set after Client creation in the Client Configuration pages. Find out more info on how to configure a SAML Client The next screen allows you to enter the Identity Resources your client will be able to access. This list comes from the list of predefined Identity Resources. You must select at least one Identity Resource to proceed to the next screen. The final screen allows you to view the summary of the proposed client application and make any appropriate changes. Configuring a SAML Client. Once a SAML Client has been created it can be further configured by finding the Client within the Clients page and clicking on it. Here it is possible to modify more advanced settings, add additional resources, modify ACS/SLO Endpoints and access audits specific to the Client. The SAML tab contains the Clients SAML specific settings; Name Description ACS Endpoints Add, remove or edit ACS endpoints SLO Endpoints Add, remove or edit SLO endpoints Claims Mappings Map AdminUI Claim Types to Saml ClaimTypes Request Add, remove and configure signing certificates Response Add, replace or remove and configure an encryption certificate To find out about all of the possible configurable options for a SAML Service Provider, vist our SAML2P documentation","title":"Adding a SAML Client"},{"location":"Clients/Adding_a_Saml_client.html#setting-up-a-saml-client-with-adminui-and-saml2p","text":"In order to set up a new SAML Service Provider client you will need to Navigate to /clients and click the \"Add Client\" button and select SAML Service Provider from the list of client types. *Note you will need a license for SAML2P in order to integrate with a SAML Client. You can get a demo license by visiting our SAML2P product page If you have a SAML metadata document from the SAML Identity Provider you are connecting to, you can fill in most of these fields using that. Name Type Description EntityID SAML Entity ID SAML Entity ID (This will be in the metadata document) DisplayName Client display name Client Display Name used in AdminUI, this has no effect on the Client itself Description (Optional) Description of the client Description of the Client, may be left blank. ASC Endpoint (http:// or https://) AssertionConsumerService AssertionConsumerService, can be found in your metadata file, made of an Endpoint, an Index and a binding type. SLO Endpoint (Optional) (http:// or https://) SingleLogoutService SingleLogoutService, can be found in your metadata file, made of an Endpoint, an Index and a binding type. *ACS/SLO Endpoints are required to be in a valid http:// or https:// format. Although it is always recommended to use TLS in production for security. If additional ACS/SLO Endpoints are required, they may be set after Client creation in the Client Configuration pages. Find out more info on how to configure a SAML Client The next screen allows you to enter the Identity Resources your client will be able to access. This list comes from the list of predefined Identity Resources. You must select at least one Identity Resource to proceed to the next screen. The final screen allows you to view the summary of the proposed client application and make any appropriate changes.","title":"Setting up a SAML Client with AdminUI and SAML2P"},{"location":"Clients/Adding_a_Saml_client.html#configuring-a-saml-client","text":"Once a SAML Client has been created it can be further configured by finding the Client within the Clients page and clicking on it. Here it is possible to modify more advanced settings, add additional resources, modify ACS/SLO Endpoints and access audits specific to the Client. The SAML tab contains the Clients SAML specific settings; Name Description ACS Endpoints Add, remove or edit ACS endpoints SLO Endpoints Add, remove or edit SLO endpoints Claims Mappings Map AdminUI Claim Types to Saml ClaimTypes Request Add, remove and configure signing certificates Response Add, replace or remove and configure an encryption certificate To find out about all of the possible configurable options for a SAML Service Provider, vist our SAML2P documentation","title":"Configuring a SAML Client."},{"location":"Clients/Adding_a_WsFed_client.html","text":"Setting up a WS-Federation Relying Party In order to set up a new WS-Federation Relying Party Provider client, you will need to navigate to the /clients and click the \u2018Add Client\u2019 button and select \u2018WS-Fed Replying Party\u2019 from the list of client types. Please note that you will need a license for WS-Federation in order to integrate with the WS-Federation Relying Party. You can get a demo license by visiting our Ws-Fed product page . The unique WS-fed wizard screens will contain the following fields: Name Type Description Realm String value registered Unique name for the client Display name Client display name Has no effect no the client itself, will be displayed on the user consent screen Description (optional) Description of the client Callback Url (http:// or https://) A url endpoint Takes a Url for the endpoint which will be used to receive the authentication tokens e.g https://mydomain.com/sign-in The Callback Url is required to be in a valid http:// or https:// format. Although it is always recommended to use TLS in production. The next screen allows you to enter the Identity Resources your client will be able to access. This list comes from the list of predefined Identity Resources. You must select at least one Identity Resource to proceed to the next screen. The final screen you can view the summary of the proposed client application and make any appropriate changes. Configuring WS-Fed Client Once a WS-Fed Client has been created it can be configured by finding the Client within the Clients page and clicking on it. Here it is possible to modify more advanced settings, add additional resources, modify token type and access audit specific to the Client. The WS-Fed tab contains the Client\u2019s WS-Federation specific settings; Name Description Token Type Select from default, SAML 1.1 or SAML 2.0 Signature Algorithm Use the default or change to a specific RSA algorithm Digest Algorithm Use the default or change to use a specific SHA algorithm SAML Name Id Format Enter the format that will be used for the SAML name id To find out all the configurable options for a WS-Fed Service provider, check out our WS-Fed documentation","title":"Adding a WS-Fed Client"},{"location":"Clients/Adding_a_WsFed_client.html#setting-up-a-ws-federation-relying-party","text":"In order to set up a new WS-Federation Relying Party Provider client, you will need to navigate to the /clients and click the \u2018Add Client\u2019 button and select \u2018WS-Fed Replying Party\u2019 from the list of client types. Please note that you will need a license for WS-Federation in order to integrate with the WS-Federation Relying Party. You can get a demo license by visiting our Ws-Fed product page . The unique WS-fed wizard screens will contain the following fields: Name Type Description Realm String value registered Unique name for the client Display name Client display name Has no effect no the client itself, will be displayed on the user consent screen Description (optional) Description of the client Callback Url (http:// or https://) A url endpoint Takes a Url for the endpoint which will be used to receive the authentication tokens e.g https://mydomain.com/sign-in The Callback Url is required to be in a valid http:// or https:// format. Although it is always recommended to use TLS in production. The next screen allows you to enter the Identity Resources your client will be able to access. This list comes from the list of predefined Identity Resources. You must select at least one Identity Resource to proceed to the next screen. The final screen you can view the summary of the proposed client application and make any appropriate changes.","title":"Setting up a WS-Federation Relying Party"},{"location":"Clients/Adding_a_WsFed_client.html#configuring-ws-fed-client","text":"Once a WS-Fed Client has been created it can be configured by finding the Client within the Clients page and clicking on it. Here it is possible to modify more advanced settings, add additional resources, modify token type and access audit specific to the Client. The WS-Fed tab contains the Client\u2019s WS-Federation specific settings; Name Description Token Type Select from default, SAML 1.1 or SAML 2.0 Signature Algorithm Use the default or change to a specific RSA algorithm Digest Algorithm Use the default or change to use a specific SHA algorithm SAML Name Id Format Enter the format that will be used for the SAML name id To find out all the configurable options for a WS-Fed Service provider, check out our WS-Fed documentation","title":"Configuring WS-Fed Client"},{"location":"Clients/Deleting_clients.html","text":"Delete Clients During the Edit Clients dialogue, a Delete button option will appear. If this is clicked, you will be warned as to whether you want to permanently delete this Client. You can change your mind and close the dialogue or not delete, or click \"Delete\" to proceed with this deletion.","title":"Deleting Clients"},{"location":"Clients/Deleting_clients.html#delete-clients","text":"During the Edit Clients dialogue, a Delete button option will appear. If this is clicked, you will be warned as to whether you want to permanently delete this Client. You can change your mind and close the dialogue or not delete, or click \"Delete\" to proceed with this deletion.","title":"Delete Clients"},{"location":"Clients/Editing_clients.html","text":"Editing a Client Access the Client Details by selecting the Client you want to edit in the Clients list You will notice that there are several key tabs, which we will cover in detail. You will observe the tabs available to edit are Details , Resources , Application URLs and Advanced . On the Details tab, there is a display of the following: Client ID Readonly display of the Unique identifier Display URL Application URL that will be seen on Consent Screens Display Name Application name that will be seen on Consent Screens Logo URL Application Logo that will be seen on Consent Screens (Must be HTTPS) Description Application description for use within AdminUI Status The status of the Client (e.g. Disabled/Enabled) There is the option to Save the updated changes, or to Delete the Client, which will be covered in more detail later. Editing Client Resources It is possible to assign and unassign Client Resources via the Resources tab of the Client Details Edit page. Click the Client \"Resources\" tab: You will then be able to switch between either Protected Resources or Identity Resources. Assigning Client Resources To assign Client Resources, after selecting either the Protected Resources or Identity Resources button, you will see a dialogue used throughout AdminUI that allows you to assign or unassign resources via clicking the arrow: Successful Client Details Edit Once you have successfully made the edits you require, click Save, and you should then see a success dialogue informing you that your changes have been saved. Your changes should be active in the Client immediately. Updating Application URLs Through the Client interface on the Application URLs tab, you will see the option to updated Application URLs. You can add a new URL via the text-box, and the \"plus\" button icon to add to the list of Application URLs. There are several options for each URL: Callback can send tokens to this URL Signout can redirect to this URL after signout CORS Domain that can make cross-origin requests Advanced Tokens Configuration Tokens can be configured further via the Advanced Screen. Advanced Claims Configuration Claims can be configured via the Advanced tab by selecting Claims. Advanced Restrictions Configuration Restrictions configuration can be added via the Advanced Clients tab.","title":"Editing Clients"},{"location":"Clients/Editing_clients.html#editing-a-client","text":"Access the Client Details by selecting the Client you want to edit in the Clients list You will notice that there are several key tabs, which we will cover in detail. You will observe the tabs available to edit are Details , Resources , Application URLs and Advanced . On the Details tab, there is a display of the following: Client ID Readonly display of the Unique identifier Display URL Application URL that will be seen on Consent Screens Display Name Application name that will be seen on Consent Screens Logo URL Application Logo that will be seen on Consent Screens (Must be HTTPS) Description Application description for use within AdminUI Status The status of the Client (e.g. Disabled/Enabled) There is the option to Save the updated changes, or to Delete the Client, which will be covered in more detail later.","title":"Editing a Client"},{"location":"Clients/Editing_clients.html#editing-client-resources","text":"It is possible to assign and unassign Client Resources via the Resources tab of the Client Details Edit page. Click the Client \"Resources\" tab: You will then be able to switch between either Protected Resources or Identity Resources.","title":"Editing Client Resources"},{"location":"Clients/Editing_clients.html#assigning-client-resources","text":"To assign Client Resources, after selecting either the Protected Resources or Identity Resources button, you will see a dialogue used throughout AdminUI that allows you to assign or unassign resources via clicking the arrow:","title":"Assigning Client Resources"},{"location":"Clients/Editing_clients.html#successful-client-details-edit","text":"Once you have successfully made the edits you require, click Save, and you should then see a success dialogue informing you that your changes have been saved. Your changes should be active in the Client immediately.","title":"Successful Client Details Edit"},{"location":"Clients/Editing_clients.html#updating-application-urls","text":"Through the Client interface on the Application URLs tab, you will see the option to updated Application URLs. You can add a new URL via the text-box, and the \"plus\" button icon to add to the list of Application URLs. There are several options for each URL: Callback can send tokens to this URL Signout can redirect to this URL after signout CORS Domain that can make cross-origin requests","title":"Updating Application URLs"},{"location":"Clients/Editing_clients.html#advanced-tokens-configuration","text":"Tokens can be configured further via the Advanced Screen.","title":"Advanced Tokens Configuration"},{"location":"Clients/Editing_clients.html#advanced-claims-configuration","text":"Claims can be configured via the Advanced tab by selecting Claims.","title":"Advanced Claims Configuration"},{"location":"Clients/Editing_clients.html#advanced-restrictions-configuration","text":"Restrictions configuration can be added via the Advanced Clients tab.","title":"Advanced Restrictions Configuration"},{"location":"Clients/Searching_for_clients.html","text":"Searching for Clients You can find Clients in the application using the Search functionality. Start typing and the client will appear if there is a match.","title":"Searching for Clients"},{"location":"Clients/Searching_for_clients.html#searching-for-clients","text":"You can find Clients in the application using the Search functionality. Start typing and the client will appear if there is a match.","title":"Searching for Clients"},{"location":"Configuration_and_Integration/Configuring_AdminUI.html","text":"The configuration for AdminUI is set via environment variables. These can be setup in different forms including a web.config file, a docker-compose.yml file or Azure appsettings. AdminUI Configuration Settings (UI) AuthorityUrl The IdentityServer installation protecting AdminUI ApiUrl The AdminUI backend website UiUrl The AdminUI frontend website env.js AuthorityUrl The IdentityServer installation protecting AdminUI ApiUrl The AdminUI backend website UiUrl The AdminUI frontend website AddUserPassword Allows for setting a users password on creation (this is for demo purposes only, do not use in production), see more here AdminUI Configuration Settings (API) DbProvider Supported types and their values are: SqlServer MySql (Note: AdminUI requires the MySQL setting lower_case_table_names to be false ) PostgreSql IdentityConnectionString The connection string for your Identity database (Users, Claim Types, Roles etc.) IdentityServerConnectionString The connection string for your IdentityServer database (Clients, Resources, Persited Grants etc.) OperationalConnectionString (Optional) The connection string for the Presisted Grants DbContext, if not supplied AdminUI will use the IdentityServerConnectionString AuthorityUrl The IdentityServer installation protecting the API UiUrl The AdminUI frontend RequireHttpsMetadata When true ensures IdentityServer discovery endpoint uses TLS. Should be true for production LicenseKey A valid license key for AdminUI PasswordPolicy:RequireDigit defaults to true PasswordPolicy:RequireLowercase defaults to true PasswordPolicy:RequireNonAlphanumeric defaults to true PasswordPolicy:RequireUppercase defaults to true PasswordPolicy:RequiredLength defaults to 6 PasswordPolicy:RequiredUniqueChars defaults to 1 UsernamePolicy:AllowedUserNameCharacters defaults to abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._@+ UsernamePolicy:RequireUniqueEmail defaults to true AuditRecordsConnectionString The database connection string for AdminUI audits, if missing will default to the IdentityServerConnectionString AuditRecordsCulture Language used for generation of audit records, if missing or invalid will default to English (en-GB). Supported languages are: - de German - zh-TW Chinese (Traditional) - zh-CN Chinese (Simplified) - es Spanish - fr French - AuditReadActions Defaults to true , if false no audit records will be generated for read actions e.g when a user views resources though AdminUI LoggingMinimumLevel Defaults to info . Supported logging levels are debug info warning error critical LoggingOutputTemplate Defaults to [{Timestamp:dd-MM-yyyy HH:mm:ss} {Level}] {Message}{NewLine}{Exception} . For more infomation see the serilog docs .","title":"Configuring AdminUI"},{"location":"Configuration_and_Integration/Configuring_AdminUI.html#adminui-configuration-settings-ui","text":"AuthorityUrl The IdentityServer installation protecting AdminUI ApiUrl The AdminUI backend website UiUrl The AdminUI frontend website","title":"AdminUI Configuration Settings (UI)"},{"location":"Configuration_and_Integration/Configuring_AdminUI.html#envjs","text":"AuthorityUrl The IdentityServer installation protecting AdminUI ApiUrl The AdminUI backend website UiUrl The AdminUI frontend website AddUserPassword Allows for setting a users password on creation (this is for demo purposes only, do not use in production), see more here","title":"env.js"},{"location":"Configuration_and_Integration/Configuring_AdminUI.html#adminui-configuration-settings-api","text":"DbProvider Supported types and their values are: SqlServer MySql (Note: AdminUI requires the MySQL setting lower_case_table_names to be false ) PostgreSql IdentityConnectionString The connection string for your Identity database (Users, Claim Types, Roles etc.) IdentityServerConnectionString The connection string for your IdentityServer database (Clients, Resources, Persited Grants etc.) OperationalConnectionString (Optional) The connection string for the Presisted Grants DbContext, if not supplied AdminUI will use the IdentityServerConnectionString AuthorityUrl The IdentityServer installation protecting the API UiUrl The AdminUI frontend RequireHttpsMetadata When true ensures IdentityServer discovery endpoint uses TLS. Should be true for production LicenseKey A valid license key for AdminUI PasswordPolicy:RequireDigit defaults to true PasswordPolicy:RequireLowercase defaults to true PasswordPolicy:RequireNonAlphanumeric defaults to true PasswordPolicy:RequireUppercase defaults to true PasswordPolicy:RequiredLength defaults to 6 PasswordPolicy:RequiredUniqueChars defaults to 1 UsernamePolicy:AllowedUserNameCharacters defaults to abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._@+ UsernamePolicy:RequireUniqueEmail defaults to true AuditRecordsConnectionString The database connection string for AdminUI audits, if missing will default to the IdentityServerConnectionString AuditRecordsCulture Language used for generation of audit records, if missing or invalid will default to English (en-GB). Supported languages are: - de German - zh-TW Chinese (Traditional) - zh-CN Chinese (Simplified) - es Spanish - fr French - AuditReadActions Defaults to true , if false no audit records will be generated for read actions e.g when a user views resources though AdminUI LoggingMinimumLevel Defaults to info . Supported logging levels are debug info warning error critical LoggingOutputTemplate Defaults to [{Timestamp:dd-MM-yyyy HH:mm:ss} {Level}] {Message}{NewLine}{Exception} . For more infomation see the serilog docs .","title":"AdminUI Configuration Settings (API)"},{"location":"Configuration_and_Integration/Enabling_Logging.html","text":"The first step for any troubleshooting with AdminUI is to enable logging. The best place for this is in the API site. By default, this application outputs to the console, which most hosting options can read from. Logging with IIS or Azure If you are running AdminUI under IIS, you can capture these logs by going into your site's configuration (either using the web.config or IIS configuration manager) and setting the stdoutLogEnabled attribute to true . This attribute is found in: system.webServer > aspNetCore. The location of these logs is controlled by the stdoutLogFile attribute on the same element. Please ensure that the folder structure for this location exists and your IIS site has permissions to write to this folder. Logging with Docker When using Docker, any logs from the UI or API sites should automatically be picked up by the Docker logging sink. As a result, AdminUI should work fine with the Docker logging system of your choice.","title":"Enabling Logging"},{"location":"Configuration_and_Integration/Enabling_Logging.html#logging-with-iis-or-azure","text":"If you are running AdminUI under IIS, you can capture these logs by going into your site's configuration (either using the web.config or IIS configuration manager) and setting the stdoutLogEnabled attribute to true . This attribute is found in: system.webServer > aspNetCore. The location of these logs is controlled by the stdoutLogFile attribute on the same element. Please ensure that the folder structure for this location exists and your IIS site has permissions to write to this folder.","title":"Logging with IIS or Azure"},{"location":"Configuration_and_Integration/Enabling_Logging.html#logging-with-docker","text":"When using Docker, any logs from the UI or API sites should automatically be picked up by the Docker logging sink. As a result, AdminUI should work fine with the Docker logging system of your choice.","title":"Logging with Docker"},{"location":"Configuration_and_Integration/Integrating_with_IdentityServer.html","text":"If you have been following the IdentityServer Quickstarts whilst you are evaluating the framework, you can easily integrate AdminUI using the instructions below. Using the Quickstarts that build upon the ASP.NET Core Identity Visual Studio templates is not recommended for production scenarios, due to their fragility and abuse of anti-patterns. AdminUI uses a custom ASP.NET Core Identity schema. This schema extends from the ASP.NET Core Identity Entity Framework defaults, meaning any registration, password reset or login functionality you might already have, will continue to work with the AdminUI user store. However, any existing users will need to be exported to use the AdminUI schema. For more details, see the Migrating to the IdentityExpress Identity Schema section of this article. This schema is available in the nuget package IdentityExpress.Identity . Check out the Admin UI IdentityServer integration example for a working IdentityServer installation using this nuget package and schema. Existing installations of IdentityServer need no changes, as long as IdentityServer and AdminUI are using the same database. To use the IdentityExpress Identity schema used by AdminUI, you simply need to update your existing ASP.NET Identity registrations to look like the following: // Register Identity using IdentityExpress entities and stores services.AddIdentity<IdentityExpressUser, IdentityExpressRole>() .AddUserStore<IdentityExpressUserStore>() .AddRoleStore<IdentityExpressRoleStore>() .AddIdentityExpressUserClaimsPrincipalFactory(); // Register the DbContext for the IdentityExpress schema services.AddDbContext<IdentityExpressDbContext>(); Or you can use our shortcut extension method: services.AddIdentityExpressAdminUiConfiguration() .AddIdentityExpressUserClaimsPrincipalFactory(); Any existing registrations for SignInManager 's, or usages of IdentityUser , should also be updated.","title":"Integrating with Identity Server"},{"location":"Configuration_and_Integration/Integrating_with_Quickstarts.html","text":"If you have been following the IdentityServer Quickstarts whilst you are evaluating the framework, you can easily integrate AdminUI using the instructions below. Using the Quickstarts that build upon the ASP.NET Core Identity Visual Studio templates is not recommended for production scenarios, due to their fragility and abuse of anti-patterns. Update Your Packages If you have downloaded the code straight from the samples repository, ensure all packages are up to date (excluding pre-releases). Required Packages To get started, you're going to need the AdminUI ASP.NET Core Identity schema. This simply builds upon the defaults found in the ASP.NET Core Identity Entity Framework library. To install this package either use the nuget package manager console with: install-package IdentityExpress.Identity or search the package manager for IdentityExpress.Identity . Registration & Usage Changes We'll now need to swap some of the base entities with AdminUI/IdentityServer specifics. Please follow the below steps: Delete Models\\ApplicationUser.cs Replace all usages of ApplicationUser with IdentityExpressUser Replace all usages of IdentityRole with IdentityExpressRole Delete Data\\ApplicationDbContext.cs Replace .AddEntityFrameworkStores<IdentityExpressDbContext>() with .AddUserStore<IdentityExpressUserStore>().AddRoleStore<IdentityExpressRoleStore>() Add .AddIdentityExpressUserClaimsPrincipalFactory() to ensure user data is correctly transformed into claims Delete any ASP.NET Core Identity migrations, AdminUI must be in charge of the user store migrations Your ASP.NET Core DI registrations should now look something like the following: services.AddDbContext<IdentityExpressDbContext>(options => options.UseSqlServer(Configuration.GetConnectionString(\"DefaultConnection\"))); services.AddIdentity<IdentityExpressUser, IdentityExpressRole>() .AddUserStore<IdentityExpressUserStore>() .AddRoleStore<IdentityExpressRoleStore>() .AddIdentityExpressUserClaimsPrincipalFactory() .AddDefaultTokenProviders();","title":"Integrating with Quickstarts"},{"location":"Configuration_and_Integration/Integrating_with_Quickstarts.html#update-your-packages","text":"If you have downloaded the code straight from the samples repository, ensure all packages are up to date (excluding pre-releases).","title":"Update Your Packages"},{"location":"Configuration_and_Integration/Integrating_with_Quickstarts.html#required-packages","text":"To get started, you're going to need the AdminUI ASP.NET Core Identity schema. This simply builds upon the defaults found in the ASP.NET Core Identity Entity Framework library. To install this package either use the nuget package manager console with: install-package IdentityExpress.Identity or search the package manager for IdentityExpress.Identity .","title":"Required Packages"},{"location":"Configuration_and_Integration/Integrating_with_Quickstarts.html#registration-usage-changes","text":"We'll now need to swap some of the base entities with AdminUI/IdentityServer specifics. Please follow the below steps: Delete Models\\ApplicationUser.cs Replace all usages of ApplicationUser with IdentityExpressUser Replace all usages of IdentityRole with IdentityExpressRole Delete Data\\ApplicationDbContext.cs Replace .AddEntityFrameworkStores<IdentityExpressDbContext>() with .AddUserStore<IdentityExpressUserStore>().AddRoleStore<IdentityExpressRoleStore>() Add .AddIdentityExpressUserClaimsPrincipalFactory() to ensure user data is correctly transformed into claims Delete any ASP.NET Core Identity migrations, AdminUI must be in charge of the user store migrations Your ASP.NET Core DI registrations should now look something like the following: services.AddDbContext<IdentityExpressDbContext>(options => options.UseSqlServer(Configuration.GetConnectionString(\"DefaultConnection\"))); services.AddIdentity<IdentityExpressUser, IdentityExpressRole>() .AddUserStore<IdentityExpressUserStore>() .AddRoleStore<IdentityExpressRoleStore>() .AddIdentityExpressUserClaimsPrincipalFactory() .AddDefaultTokenProviders();","title":"Registration &amp; Usage Changes"},{"location":"IdentityServer/What_Is_IdentityServer.html","text":"What is IdentityServer? IdentityServer is a .NET framework which allows you to develop an identity solution, using the OpenID connect protocol an extension to OAuth 2.0. Using this library you can provide a single sign on solution, a process which centralizes the authentication of your users into one location, allowing you to provide a secure and robust solution to user identity and authentication. How does AdminUI fit in? AdminUI provides a web portal for you to administer your IdentityServer solution. Using AdminUI you can perform configuration of users and clients. AdminUI will also guide you through the configuration of your identity solution, making it easier and quicker than developing code. This is only a brief overview of IdentityServer and AdminUI you may want to look at the following links for more details; Introduction to IdentityServer More information about AdminUI If you are looking for remote development support, production support, consultancy or guidance with IdentityServer, don\u2019t hesitate to contact sales@identityserver.com for a free quote.","title":"What is IdentityServer"},{"location":"IdentityServer/What_Is_IdentityServer.html#what-is-identityserver","text":"IdentityServer is a .NET framework which allows you to develop an identity solution, using the OpenID connect protocol an extension to OAuth 2.0. Using this library you can provide a single sign on solution, a process which centralizes the authentication of your users into one location, allowing you to provide a secure and robust solution to user identity and authentication.","title":"What is IdentityServer?"},{"location":"IdentityServer/What_Is_IdentityServer.html#how-does-adminui-fit-in","text":"AdminUI provides a web portal for you to administer your IdentityServer solution. Using AdminUI you can perform configuration of users and clients. AdminUI will also guide you through the configuration of your identity solution, making it easier and quicker than developing code. This is only a brief overview of IdentityServer and AdminUI you may want to look at the following links for more details; Introduction to IdentityServer More information about AdminUI If you are looking for remote development support, production support, consultancy or guidance with IdentityServer, don\u2019t hesitate to contact sales@identityserver.com for a free quote.","title":"How does AdminUI fit in?"},{"location":"Import_and_Export/Certificates.html","text":"Certificate Conflicts If your SAML client was setup with request or response certificates, or the client being updated is configured with request or response certificates, then you will see the following screen This screen provides the following options; Use existing certificate Do not update the certificate(s) currently set for the effected client Upload new certificate Will allow you to upload new certificates to apply to the effected client Upload new certificate Selecting to upload a new certificate you will be presented with this screen; Here you can manually add request and response certificates to your SAML client. Do not add certificate If your SAML client was exported with request or response certificates and is new to the system, then you can choose not to add any request or response certificates If you choose this option, the SAML client will be imported without request or response certificates. You can always add these later through the client edit screen.","title":"Importing SAML Clients with Certificates"},{"location":"Import_and_Export/Certificates.html#certificate-conflicts","text":"If your SAML client was setup with request or response certificates, or the client being updated is configured with request or response certificates, then you will see the following screen This screen provides the following options; Use existing certificate Do not update the certificate(s) currently set for the effected client Upload new certificate Will allow you to upload new certificates to apply to the effected client","title":"Certificate Conflicts"},{"location":"Import_and_Export/Certificates.html#upload-new-certificate","text":"Selecting to upload a new certificate you will be presented with this screen; Here you can manually add request and response certificates to your SAML client.","title":"Upload new certificate"},{"location":"Import_and_Export/Certificates.html#do-not-add-certificate","text":"If your SAML client was exported with request or response certificates and is new to the system, then you can choose not to add any request or response certificates If you choose this option, the SAML client will be imported without request or response certificates. You can always add these later through the client edit screen.","title":"Do not add certificate"},{"location":"Import_and_Export/Export.html","text":"Exporting clients In order to use the export clients feature you will need to navigate to the clients page. Clicking the export button located to the right of the \"Add Client\" button at the top of the page will export all clients and their associated claim types, identity resources and protected resources. When exporting clients their secrets and certificates will not be exported. Any clients that have secrets or certificates will be flagged for you to review upon import. Exporting specific clients To export specific clients you can select clients individually within the clients list or use the checkbox at the top to select all. When you select clients from the list the export button will display the number of clients you have selected. Note: If a client is reserved it is not selectable for export. Example JSON The format of the export is JSON. Below you will see example JSON displaying a client that has been selected for export along with its associated resources and claim types. Note: Although you can edit this JSON manually before import, it is not advisable due to potential parsing errors { \"metadata\": { \"exportedAt\": \"2020-01-20T09:49:12Z\", \"exportedBy\": \"info@rocksolidknowledge.com\", \"exportVersion\": \"2.6\" }, \"clients\": [ { \"clientId\": \"a46cfa01b4704f16a9fec1cd6cc4b015\", \"clientName\": \"RSK_SPA_HR\", \"description\": \"HR management portal\", \"enabled\": true, \"clientType\": 7, \"protocolType\": \"oidc\", \"requireClientSecret\": false, \"clientUri\": \"https://localhost:5000\", \"requireConsent\": true, \"allowRememberConsent\": true, \"allowedGrantTypes\": [ \"authorization_code\" ], \"requirePkce\": true, \"allowPlainTextPkce\": false, \"allowAccessTokensViaBrowser\": false, \"redirectUris\": [ \"https://localhost:5000\" ], \"postLogoutRedirectUris\": [ \"https://localhost:5000\" ], \"frontChannelLogoutSessionRequired\": true, \"allowOfflineAccess\": false, \"allowedScopes\": [ \"admin_ui_profile\", \"RSK Profile\", \"admin_ui_public\", \"admin_api\" ], \"alwaysIncludeUserClaimsInIdToken\": false, \"identityTokenLifetime\": 300, \"accessTokenLifetime\": 1800, \"authorizationCodeLifetime\": 300, \"absoluteRefreshTokenLifetime\": 2592000, \"slidingRefreshTokenLifetime\": 1296000, \"refreshTokenUsage\": 1, \"updateAccessTokenClaimsOnRefresh\": false, \"refreshTokenExpiration\": 1, \"accessTokenType\": 0, \"enableLocalLogin\": true, \"identityProviderRestrictions\": [], \"includeJwtId\": false, \"alwaysSendClientClaims\": false, \"allowedCorsOrigins\": [ \"https://localhost:5000\" ], \"properties\": [], \"backChannelLogoutSessionRequired\": true, \"nonEditable\": false, \"deviceCodeLifetime\": 300, \"reserved\": false, \"claims\": [], \"hadSecrets\": false } ], \"identityResources\": [ { \"name\": \"RSK Profile\", \"displayName\": \"RSK Profile Resource\", \"description\": \"This is the RSK Profile resource\", \"enabled\": true, \"required\": false, \"emphasize\": false, \"showInDiscoveryDocument\": true, \"allowedClaims\": [ \"RSK-Id\" ], \"nonEditable\": false } ], \"claimTypes\": [ { \"name\": \"RSK-Id\", \"description\": \"This is the ClaimType RSK-Id\", \"required\": false, \"reserved\": false, \"valueType\": 0, \"rule\": \"\", \"ruleValidationFailureDescription\": \"\", \"userEditable\": false } ] }","title":"Exporting Clients"},{"location":"Import_and_Export/Export.html#exporting-clients","text":"In order to use the export clients feature you will need to navigate to the clients page. Clicking the export button located to the right of the \"Add Client\" button at the top of the page will export all clients and their associated claim types, identity resources and protected resources. When exporting clients their secrets and certificates will not be exported. Any clients that have secrets or certificates will be flagged for you to review upon import.","title":"Exporting clients"},{"location":"Import_and_Export/Export.html#exporting-specific-clients","text":"To export specific clients you can select clients individually within the clients list or use the checkbox at the top to select all. When you select clients from the list the export button will display the number of clients you have selected. Note: If a client is reserved it is not selectable for export.","title":"Exporting specific clients"},{"location":"Import_and_Export/Export.html#example-json","text":"The format of the export is JSON. Below you will see example JSON displaying a client that has been selected for export along with its associated resources and claim types. Note: Although you can edit this JSON manually before import, it is not advisable due to potential parsing errors { \"metadata\": { \"exportedAt\": \"2020-01-20T09:49:12Z\", \"exportedBy\": \"info@rocksolidknowledge.com\", \"exportVersion\": \"2.6\" }, \"clients\": [ { \"clientId\": \"a46cfa01b4704f16a9fec1cd6cc4b015\", \"clientName\": \"RSK_SPA_HR\", \"description\": \"HR management portal\", \"enabled\": true, \"clientType\": 7, \"protocolType\": \"oidc\", \"requireClientSecret\": false, \"clientUri\": \"https://localhost:5000\", \"requireConsent\": true, \"allowRememberConsent\": true, \"allowedGrantTypes\": [ \"authorization_code\" ], \"requirePkce\": true, \"allowPlainTextPkce\": false, \"allowAccessTokensViaBrowser\": false, \"redirectUris\": [ \"https://localhost:5000\" ], \"postLogoutRedirectUris\": [ \"https://localhost:5000\" ], \"frontChannelLogoutSessionRequired\": true, \"allowOfflineAccess\": false, \"allowedScopes\": [ \"admin_ui_profile\", \"RSK Profile\", \"admin_ui_public\", \"admin_api\" ], \"alwaysIncludeUserClaimsInIdToken\": false, \"identityTokenLifetime\": 300, \"accessTokenLifetime\": 1800, \"authorizationCodeLifetime\": 300, \"absoluteRefreshTokenLifetime\": 2592000, \"slidingRefreshTokenLifetime\": 1296000, \"refreshTokenUsage\": 1, \"updateAccessTokenClaimsOnRefresh\": false, \"refreshTokenExpiration\": 1, \"accessTokenType\": 0, \"enableLocalLogin\": true, \"identityProviderRestrictions\": [], \"includeJwtId\": false, \"alwaysSendClientClaims\": false, \"allowedCorsOrigins\": [ \"https://localhost:5000\" ], \"properties\": [], \"backChannelLogoutSessionRequired\": true, \"nonEditable\": false, \"deviceCodeLifetime\": 300, \"reserved\": false, \"claims\": [], \"hadSecrets\": false } ], \"identityResources\": [ { \"name\": \"RSK Profile\", \"displayName\": \"RSK Profile Resource\", \"description\": \"This is the RSK Profile resource\", \"enabled\": true, \"required\": false, \"emphasize\": false, \"showInDiscoveryDocument\": true, \"allowedClaims\": [ \"RSK-Id\" ], \"nonEditable\": false } ], \"claimTypes\": [ { \"name\": \"RSK-Id\", \"description\": \"This is the ClaimType RSK-Id\", \"required\": false, \"reserved\": false, \"valueType\": 0, \"rule\": \"\", \"ruleValidationFailureDescription\": \"\", \"userEditable\": false } ] }","title":"Example JSON"},{"location":"Import_and_Export/Import.html","text":"Importing clients In order to use the import clients feature you will need to navigate to the clients page. Clicking the import button located to the right of the \"Add Client\" button at the top of the page will open the import wizard. Select a file using the file picker to upload a JSON file that was generated from the export . Once you hit \"Start\" the file will be validated beginning the import process. Import Screens Import Summary Within the import you will see a series of summary screens that describe the differences between what you are trying to import and what exists in the system. There are 4 states that a client, resource or claim type can be in, these are shown on the right hand side of the image below. New describes a resource that is in the import file but not within the current system Duplicate describes a resource that is in the import file and in the current system where the resource does not differ at all between the two Change describes a resource that is in the import file and in the current system where the resource itself differs between the two Dependencies describes a resource that is in the import file and in the current system where the resource's depencies differ between the two An example of this is where a client is the same in the import as it is in the current system, it has a protected resource that is in the import and in the current system but the protected resource has changes between the import and in the current system Reviewing Changes Clicking the \"Change\" hyperlink in a summary will take you to a screen displaying the differences between the resource in the import file and in the current system. Declining the changes will deselect the dependent client for that resource in the Client Summary screen. Resources & Claim Types The summary screen for resources and claim types has an additional column which displays how many clients the current resource or claim type is a dependent of. The review changes screen shows changes in the same way, but with a couple of notable changes. The screen shows you which clients the resource you are reviewing is a dependent of. The \"Importing\" section of this warning displays any clients from the import file. The \"Existing\" section shows any clients that are in the current system. A client can appear in both lists for example RSK_API is within the import file and within the current system so appears twice. When you have a protected resource that has scopes that are conflicted, you will see an additional table for each scope. This can be seen under the \"Conflicted Scopes\" header.","title":"Importing Clients"},{"location":"Import_and_Export/Import.html#importing-clients","text":"In order to use the import clients feature you will need to navigate to the clients page. Clicking the import button located to the right of the \"Add Client\" button at the top of the page will open the import wizard. Select a file using the file picker to upload a JSON file that was generated from the export . Once you hit \"Start\" the file will be validated beginning the import process.","title":"Importing clients"},{"location":"Import_and_Export/Import.html#import-screens","text":"","title":"Import Screens"},{"location":"Import_and_Export/Import.html#import-summary","text":"Within the import you will see a series of summary screens that describe the differences between what you are trying to import and what exists in the system. There are 4 states that a client, resource or claim type can be in, these are shown on the right hand side of the image below. New describes a resource that is in the import file but not within the current system Duplicate describes a resource that is in the import file and in the current system where the resource does not differ at all between the two Change describes a resource that is in the import file and in the current system where the resource itself differs between the two Dependencies describes a resource that is in the import file and in the current system where the resource's depencies differ between the two An example of this is where a client is the same in the import as it is in the current system, it has a protected resource that is in the import and in the current system but the protected resource has changes between the import and in the current system","title":"Import Summary"},{"location":"Import_and_Export/Import.html#reviewing-changes","text":"Clicking the \"Change\" hyperlink in a summary will take you to a screen displaying the differences between the resource in the import file and in the current system. Declining the changes will deselect the dependent client for that resource in the Client Summary screen.","title":"Reviewing  Changes"},{"location":"Import_and_Export/Import.html#resources-claim-types","text":"The summary screen for resources and claim types has an additional column which displays how many clients the current resource or claim type is a dependent of. The review changes screen shows changes in the same way, but with a couple of notable changes. The screen shows you which clients the resource you are reviewing is a dependent of. The \"Importing\" section of this warning displays any clients from the import file. The \"Existing\" section shows any clients that are in the current system. A client can appear in both lists for example RSK_API is within the import file and within the current system so appears twice. When you have a protected resource that has scopes that are conflicted, you will see an additional table for each scope. This can be seen under the \"Conflicted Scopes\" header.","title":"Resources &amp; Claim Types"},{"location":"Import_and_Export/Import_and_Export_Via_API.html","text":"Importing and Exporting via the API This page describes how to use the import and export features through the API. To make requests to the endpoints below the client making the requests must have the correct access rights. For more information see the swagger docs on the API at /swagger . Exporting All Clients To export all clients in the system, use the following configuration URL: /clients/export Http Method: POST Content type: application/vnd.adminui.export-clients-v1+json Return type: export-clients-v1+json Exporting Specific Clients To export only a specific set of clients, use the following configuration URL: /clients/export/specified Http Method: POST Content type: export-specified-clients-v1+json Return type: export-clients-v1+json Parameters: clientIds (Required) Form data value the name of the value is clientIds and the value is a comma separated list of client ids that will be exported Import Validation To validate your import use the following configuration: Http Method: POST Content type: application/vnd.adminui.import-clients-validation-v1+json Return type: application/vnd.adminui.import-clients-validation-result-v1+json URL: http://localhost:5001/clients/import/validate An example model can be found in the export documentation here Complete an Import To complete import after validation use the following configuration Http Method: POST Content type: application/vnd.adminui.import-clients-v1+json URL: http://localhost:5001/clients/import The request body will be the same as the previous model with an appended section for the import configuration. \"importConfiguration\":{ \"clients\":[ { \"ResourceId\":\"a46cfa01b4704f16a9fec1cd6cc4b015\" } ], \"protectedResources\":[ ] }","title":"Import and Export Via the API"},{"location":"Import_and_Export/Import_and_Export_Via_API.html#importing-and-exporting-via-the-api","text":"This page describes how to use the import and export features through the API. To make requests to the endpoints below the client making the requests must have the correct access rights. For more information see the swagger docs on the API at /swagger .","title":"Importing and Exporting via the API"},{"location":"Import_and_Export/Import_and_Export_Via_API.html#exporting-all-clients","text":"To export all clients in the system, use the following configuration URL: /clients/export Http Method: POST Content type: application/vnd.adminui.export-clients-v1+json Return type: export-clients-v1+json","title":"Exporting All Clients"},{"location":"Import_and_Export/Import_and_Export_Via_API.html#exporting-specific-clients","text":"To export only a specific set of clients, use the following configuration URL: /clients/export/specified Http Method: POST Content type: export-specified-clients-v1+json Return type: export-clients-v1+json Parameters: clientIds (Required) Form data value the name of the value is clientIds and the value is a comma separated list of client ids that will be exported","title":"Exporting Specific Clients"},{"location":"Import_and_Export/Import_and_Export_Via_API.html#import-validation","text":"To validate your import use the following configuration: Http Method: POST Content type: application/vnd.adminui.import-clients-validation-v1+json Return type: application/vnd.adminui.import-clients-validation-result-v1+json URL: http://localhost:5001/clients/import/validate An example model can be found in the export documentation here","title":"Import Validation"},{"location":"Import_and_Export/Import_and_Export_Via_API.html#complete-an-import","text":"To complete import after validation use the following configuration Http Method: POST Content type: application/vnd.adminui.import-clients-v1+json URL: http://localhost:5001/clients/import The request body will be the same as the previous model with an appended section for the import configuration. \"importConfiguration\":{ \"clients\":[ { \"ResourceId\":\"a46cfa01b4704f16a9fec1cd6cc4b015\" } ], \"protectedResources\":[ ] }","title":"Complete an Import"},{"location":"Import_and_Export/Secrets.html","text":"Secret Conflicts If the client or protected resource you are currently importing had a secret when it was exported, the import process will prompt you to recreate it. The following screen will be shown when importing a client or protected resource that has a secret Using this screen you have three choices; Use existing secrets Do not update the secret(s) currently set for the effected client or protected resource currently in AdminUI Generate a random secret Will generate a brand new secret for the effected client or protected resource Manually create secrets Will display the secrets screen allowing you to generate or enter your own secret(s) If the client effected by the import does not have a secret you will see a similar screen. Using this screen you have three choices; Do not set a secret Do not add a secret to the effected client or protected resource. This will leave this client or protected resource without a secret Generate a random secret Will generate a brand new secret for the effected client or protected resource Manually create secrets Will display the secrets screen allowing you to generate or enter your own secret(s) If you use the 'Remember my decisions and apply to all remaining secrets' check box the last chosen option will be used for all remaining clients or protected resources. Download Secrets Any secrets created during import will be available to download at the end of the import process.","title":"Importing Client Configuration with Secrets"},{"location":"Import_and_Export/Secrets.html#secret-conflicts","text":"If the client or protected resource you are currently importing had a secret when it was exported, the import process will prompt you to recreate it. The following screen will be shown when importing a client or protected resource that has a secret Using this screen you have three choices; Use existing secrets Do not update the secret(s) currently set for the effected client or protected resource currently in AdminUI Generate a random secret Will generate a brand new secret for the effected client or protected resource Manually create secrets Will display the secrets screen allowing you to generate or enter your own secret(s) If the client effected by the import does not have a secret you will see a similar screen. Using this screen you have three choices; Do not set a secret Do not add a secret to the effected client or protected resource. This will leave this client or protected resource without a secret Generate a random secret Will generate a brand new secret for the effected client or protected resource Manually create secrets Will display the secrets screen allowing you to generate or enter your own secret(s) If you use the 'Remember my decisions and apply to all remaining secrets' check box the last chosen option will be used for all remaining clients or protected resources.","title":"Secret Conflicts"},{"location":"Import_and_Export/Secrets.html#download-secrets","text":"Any secrets created during import will be available to download at the end of the import process.","title":"Download Secrets"},{"location":"Installation/Installation_Azure.html","text":"This walkthrough will run through setting up AdminUI manually in Azure. The IdentityExpress Admin UI consists of two sites: the UI, and the backend API. These then integrate with an IdentityServer installation for authentication and authorization. AdminUI Deployment AdminUI is deployed as 2 separate Azure Web Applications - one for the UI website and one for the API website. It is envisaged that they will be configured to communicate with your existing (external) identity server. Prerequisites Before beginning the installation, please ensure that you have an IdentityServer4 installation and either a MySql , PostgreSQL or SqlServer database set up. Walkthrough If you already have a working IdentityServer installation up and running then this walkthrough is for you. This walkthrough will take you through the entire Azure configuration process, resulting in a working environment for IdentityExpress AdminUI, with the UI and backend API running on the same machine and targeting an existing IdentityServer. This will also include migrating your user store to the AdminUI Identity Schema. Configure a Database AdminUI currently only supports MySql , PostgreSQL and SqlServer . These can run in any azure or non-azure service. Any used databases must accept remote connections, also ensure that your firewall allows connections on any used ports. Create Azure Website Initially you will want to create 2 Azure Web Apps (note this process can also be done with Azure VM's, though you will need to follow the AdminUI IIS Installation guide . One website will be for the UI and the other for the backend API. AdminAPI Configuration Once you have a Website Setup for the API, you will need to add some variables to the site in order to get it to run. The variables to be aware of for the API are: DbProvider This sets the database type you are using. Supported types and their values are SqlServer , MySql , or PostreSql IdentityConnectionString The connection string for your Identity database (users) IdentityServerConnectionString The connection string for your IdentityServer database (clients, resources & grants) AuthorityUrl Url of the IdentityServer installation UiUrl Url of the AdminUI frontend (the idxui container) RequireHttpsMetadata Set to true or false if you want to ensure IdentityServer discovery endpoint uses TLS. Must be true for production. RunIdentityMigrations Set to true or false if you require AdminUI to run Entity Framework migrations for ASP.NET Identity DbContext's. This is recommended. RunIdentityServerMigrations Set to true or false if you require AdminUI to run Entity Framework migrations for IdentityServer DbContext's. This is useful if you have a new instance of IdentityServer currently without databases. IdentityDatabaseToMigrateConnectionString (optional) The connection string of your existing ASP.NET Core Identity Entity Framework database that will be migrated to the database used in IdentityConnectionString (this must not be equal to IdentityConnectionString ). AuditRecordsConnectionString The connection string for AdminUI audits, if missing will default to the IdentityServerConnectionString AuditRecordsCulture Language used for generation of audit records, if missing or invalid will default to English (en-GB), supported cultures and their values are: de German zh-TW Chinese (Traditional) zh-CN Chinese (Simplified) es Spanish fr French AuditReadActions Set to true or false , if missing will default to true , if false no audit records will be generated for read actions e.g when a user views resources though AdminUI In Azure, these variables will need to be added manually to the App Settings header in the Application Settings blade. For a full list of configuration settings, see Configuring AdminUI . AdminUI Configuration Once you have a App Service Setup for the UI, you will need to add some variables to the site in order to get it to run. The variables to be aware of for the UI are: AuthorityUrl Url of the IdentityServer installation. UiUrl Url of the AdminUI frontend (this Web APP). ApiUrl Url of the API setup in the previous step. In Azure, these variables will need to be added manually to the App Settings header in the Application Settings blade. For the UI there is an extra configuration step needed after the App Settings. Once you have configured these variables you will need to navigate to the folder that was placed in the WebApp wwwroot/assets folder and edit the env.js file in this folder. The variables in this will need to match the variables above: var ENV = { AuthorityUrl: 'Identity Server Url Here', UiUrl: 'Url of this website', ApiUrl: 'Url Setup in the previous step' }; Deploying to Azure Web App For each website you will need to FTP the folders supplied to the correct Azure folder. To achieve this you will need an FTP Client such as Filezilla. Once you have an FTP Client setup, you will need to go in to the Deployment Credentials blade of your app underneath the deployment header and setup the FTP credentials. Next go into the Properties blade underneath the Settings Header. From this blade you can grab your FTP HOST NAME. Using your FTP Client, connect to this website, from here navigate to Site -> wwwroot. You will want to place the contents of the relevant folder in this wwwroot folder. Do this for both the API and the UI. Note: Any EF migrations should run on Website startup, if not you can hit the URL for the API to ensure they have ran. Migrations Whether you are installing AdminUI for the first time or upgrading to the latest version of AdminUI, you will need to run some form of migrations to ensure your databases are inline with AdminUI If you extract the zip on your local machine, You can run the following command to migrate your database dotnet IdentityExpress.Manager.Api.dll -migrate all -connectionstring \"Server=tcp:example.database.windows.net;Database=ExampleDatabase;User ID=Username;Password=Password;Trusted_Connection=False;Encrypt=True;\" -dbprovider SqlServer If you want more options when setting up your databases, then there are more fine tune migrations you can do, for more info see our full migration docs here Troubleshooting If you're having issues, we recommend you first Enable Logging for the API Site .","title":"Azure"},{"location":"Installation/Installation_Azure.html#adminui-deployment","text":"AdminUI is deployed as 2 separate Azure Web Applications - one for the UI website and one for the API website. It is envisaged that they will be configured to communicate with your existing (external) identity server.","title":"AdminUI Deployment"},{"location":"Installation/Installation_Azure.html#prerequisites","text":"Before beginning the installation, please ensure that you have an IdentityServer4 installation and either a MySql , PostgreSQL or SqlServer database set up.","title":"Prerequisites"},{"location":"Installation/Installation_Azure.html#walkthrough","text":"If you already have a working IdentityServer installation up and running then this walkthrough is for you. This walkthrough will take you through the entire Azure configuration process, resulting in a working environment for IdentityExpress AdminUI, with the UI and backend API running on the same machine and targeting an existing IdentityServer. This will also include migrating your user store to the AdminUI Identity Schema.","title":"Walkthrough"},{"location":"Installation/Installation_Azure.html#configure-a-database","text":"AdminUI currently only supports MySql , PostgreSQL and SqlServer . These can run in any azure or non-azure service. Any used databases must accept remote connections, also ensure that your firewall allows connections on any used ports.","title":"Configure a Database"},{"location":"Installation/Installation_Azure.html#create-azure-website","text":"Initially you will want to create 2 Azure Web Apps (note this process can also be done with Azure VM's, though you will need to follow the AdminUI IIS Installation guide . One website will be for the UI and the other for the backend API.","title":"Create Azure Website"},{"location":"Installation/Installation_Azure.html#adminapi-configuration","text":"Once you have a Website Setup for the API, you will need to add some variables to the site in order to get it to run. The variables to be aware of for the API are: DbProvider This sets the database type you are using. Supported types and their values are SqlServer , MySql , or PostreSql IdentityConnectionString The connection string for your Identity database (users) IdentityServerConnectionString The connection string for your IdentityServer database (clients, resources & grants) AuthorityUrl Url of the IdentityServer installation UiUrl Url of the AdminUI frontend (the idxui container) RequireHttpsMetadata Set to true or false if you want to ensure IdentityServer discovery endpoint uses TLS. Must be true for production. RunIdentityMigrations Set to true or false if you require AdminUI to run Entity Framework migrations for ASP.NET Identity DbContext's. This is recommended. RunIdentityServerMigrations Set to true or false if you require AdminUI to run Entity Framework migrations for IdentityServer DbContext's. This is useful if you have a new instance of IdentityServer currently without databases. IdentityDatabaseToMigrateConnectionString (optional) The connection string of your existing ASP.NET Core Identity Entity Framework database that will be migrated to the database used in IdentityConnectionString (this must not be equal to IdentityConnectionString ). AuditRecordsConnectionString The connection string for AdminUI audits, if missing will default to the IdentityServerConnectionString AuditRecordsCulture Language used for generation of audit records, if missing or invalid will default to English (en-GB), supported cultures and their values are: de German zh-TW Chinese (Traditional) zh-CN Chinese (Simplified) es Spanish fr French AuditReadActions Set to true or false , if missing will default to true , if false no audit records will be generated for read actions e.g when a user views resources though AdminUI In Azure, these variables will need to be added manually to the App Settings header in the Application Settings blade. For a full list of configuration settings, see Configuring AdminUI .","title":"AdminAPI Configuration"},{"location":"Installation/Installation_Azure.html#adminui-configuration","text":"Once you have a App Service Setup for the UI, you will need to add some variables to the site in order to get it to run. The variables to be aware of for the UI are: AuthorityUrl Url of the IdentityServer installation. UiUrl Url of the AdminUI frontend (this Web APP). ApiUrl Url of the API setup in the previous step. In Azure, these variables will need to be added manually to the App Settings header in the Application Settings blade. For the UI there is an extra configuration step needed after the App Settings. Once you have configured these variables you will need to navigate to the folder that was placed in the WebApp wwwroot/assets folder and edit the env.js file in this folder. The variables in this will need to match the variables above: var ENV = { AuthorityUrl: 'Identity Server Url Here', UiUrl: 'Url of this website', ApiUrl: 'Url Setup in the previous step' };","title":"AdminUI Configuration"},{"location":"Installation/Installation_Azure.html#deploying-to-azure-web-app","text":"For each website you will need to FTP the folders supplied to the correct Azure folder. To achieve this you will need an FTP Client such as Filezilla. Once you have an FTP Client setup, you will need to go in to the Deployment Credentials blade of your app underneath the deployment header and setup the FTP credentials. Next go into the Properties blade underneath the Settings Header. From this blade you can grab your FTP HOST NAME. Using your FTP Client, connect to this website, from here navigate to Site -> wwwroot. You will want to place the contents of the relevant folder in this wwwroot folder. Do this for both the API and the UI. Note: Any EF migrations should run on Website startup, if not you can hit the URL for the API to ensure they have ran.","title":"Deploying to Azure Web App"},{"location":"Installation/Installation_Azure.html#migrations","text":"Whether you are installing AdminUI for the first time or upgrading to the latest version of AdminUI, you will need to run some form of migrations to ensure your databases are inline with AdminUI If you extract the zip on your local machine, You can run the following command to migrate your database dotnet IdentityExpress.Manager.Api.dll -migrate all -connectionstring \"Server=tcp:example.database.windows.net;Database=ExampleDatabase;User ID=Username;Password=Password;Trusted_Connection=False;Encrypt=True;\" -dbprovider SqlServer If you want more options when setting up your databases, then there are more fine tune migrations you can do, for more info see our full migration docs here","title":"Migrations"},{"location":"Installation/Installation_Azure.html#troubleshooting","text":"If you're having issues, we recommend you first Enable Logging for the API Site .","title":"Troubleshooting"},{"location":"Installation/Installation_Docker.html","text":"This walkthrough will run through setting up AdminUI for docker. AdminUI is deployed as 2 separate Docker images - one for the UI website and one for the API website. In production, you could choose to have the UI website image and the API website image running in the same Docker container or in separate Docker containers. Either way, it is envisaged that they will be configured to communicate with your existing (external) identity server. Prerequisites Before beginning the installation, there are several aspects to consider to ensure that Docker is configured correctly. What do I need to check before I install Docker? Before beginning the installation, ensure that Docker is configured to use the following: Using Linux Containers (Windows only) - see Docker instructions on switching containers for more information Has Docker Compose installed? (to check this, type docker-compose ) Running Docker Commands on Linux If you're running Docker on a Linux host and you're having issues running these commands, check you have suitable permissions. Walkthrough This walkthrough will take you through the entire Docker configuration process, resulting in a working environment for the IdentityExpress AdminUI, with the UI and backend API running on the same machine and targeting an existing IdentityServer. Getting the Docker Compose File For most basic installations, we can use the Docker Compose file made available upon purchase. This would have been emailed to you after payment or at the start of your trial. The current Docker Compose file is designed to get you up and running as fast as possible, and start demoing, just run docker-compose up . It will setup 5 Docker containers: Admin UI, Admin API, a test IdentityServer, a test MySQL Database and a test client, all of which are preconfigured to communicate with each other with minimal user input. If you are using our test IdentityServer it is vital that before you begin, you add a map within your hosts file from your local IP address to \"ids\". To do so, browse to your local hosts files, and add an entry as follows: '127.0.0.1 ids' On Windows, your host file is usually found at 'C:\\Windows\\System32\\Drivers\\etc\\hosts' On Linux, your host file is usually found at '/etc/hosts' If you are looking to configure AdminUI against an existing IdentityServer then continue the walkthrough. Configuration There are multiple variables that you can configure in the compose file depending on your setup: Ports We can configure both the internal and external ports used in the docker containers. This is in the format of host:container . Please do not change the container port when using the compose file, however you are welcome to change the host port if your environment has any port clashes. Environment Variables Environment variables are also available for setting application specifics. These are set in the following format in your Docker Compose file: environment: - UiUrl=http://localhost:5000 - ApiUrl=http://localhost:5001 - AuthorityUrl=http://ids:5003 For the api container the minimum configuration required is: DbProvider This sets the database type you are using. Supported types and their values are: SqlServer MySql PostreSql IdentityConnectionString The connection string for your Identity database (users) IdentityServerConnectionString The connection string for your IdentityServer database (clients, resources & grants) AuthorityUrl Url of the IdentityServer installation protecting the UI UiUrl Url of the AdminUI frontend (the idxui container) RequireHttpsMetadata Set to true or false if you want to ensure IdentityServer discovery endpoint uses TLS. Must be true for production LicenseKey The full license key for AdminUI And for the ui container we need: AuthorityUrl Url of the IdentityServer installation protecting AdminUI ApiUrl Url of the AdminUI backend (the idxapi container) UiUrl Url of the AdminUI frontend (the idxui container) The full list of configuration options is avaliable here IdentityServer & Database Resolution Ensure that your IdentityServer site is either: Publicly resolvable via DNS or running locally on the Docker host machine on all network devices (e.g: http://+:5555/). If you are running locally, ensure that the AuthorityUrl setting uses the IP address of the local Docker network device. Any used databases must accept remote connections. If this database is on your Docker host machine, you can use the IP address of your Docker network device in the connection string. If you are running IdentityServer and the database locally to the Docker host machine, also ensure that your firewall allows connections on the necessary ports. Docker Login Before we can run the containers we have one final step: authentication. The docker images used for Admin UI are found in a private Docker registry, which is protected by a username and password. These credentials are supplied when you purchase AdminUI. Once you have the credentials you run: docker login identityserverregistry.azurecr.io First Run On each startup the AdminUI API Container will run ALL migrations from its entryscript. If you would like to see and/or modify which migrations run on startup please see our migration documentation . Docker Compose Now we can run the Docker Compose file using the command: docker-compose up This must be done in the location of the Docker Compose file or by providing the path using the -f flag. You should now be able to access the IdentityExpress Admin UI on http://localhost:5000 . Deploying Docker Images Separately The Admin UI and API Docker images are designed to be scaled separately. This means you can place each image on separate machines each with their own load balancing policies. Individual Docker Compose files are not available for the UI and API, however you can easily create these with a bit of Docker know-how, or use the docker run command directly. docker run identityserverregistry.azurecr.io/idxui This will run the UI image alone. A similar approach can then be taken with the API image, where the image is tagged identityserverregistry.azurecr.io/idxapi . Ports used can then be set as -p 5000:5000 and environment variables as -e \"AuthorityUrl=http://ids:5003\" Making Docker Public with a Reverse Proxy To make the Docker containers public, we first need to add a web server to the mix. This web server will act as a reverse proxy, forwarding all calls to our running Docker instances. These web servers do not need to dockerized. IIS Reverse Proxy To setup IIS to act as a reverse proxy, there are two prerequisites that need to be installed within IIS: URL Rewrite Module Application Request Routing Once these are installed we can then go to the site we want to configure and select 'URL Rewrite' found in the IIS section. We then need to use \"Add Rule(s)...\", found in the Actions section. We can then use the Reverse proxy template, found in the Inbound and Outbound Rules section. Now we need to set the Inbound Rule, telling IIS where to forward requests to. By default this would be http://localhost:5000. If your Docker container is running HTTPS, ensure you disable SSL Offloading, ensuring TLS is maintained. We also need to configure an Outbound Rule, to allow IIS to return responses from our Docker container using your site URL instead of the Docker container responding directly. Here the From address needs to be the domain of you Docker container (e.g. http://localhost:5000) and the To address you sites address (e.g. api.docker.com). FAQ Why don't my Docker commands work on Linux? Ensure you are using a user with sufficient privileges. What do I do if I experience a port clash? You may experience a scenario where you have a clash between ports in-use on your host machine and the ports specified in the docker-compose.yml file. Port mappings in the docker-compose.yml file are specified in host:container pairs. You can change the host port in any mapping but be careful to change all occurances of the usage of that host port in other environment variables used in the docker-compose.yml file. Connecting to Databases on Docker Host Machine To connect a container to a local database running on the Docker host machine, ensure you have configured the following: Enable remote connections to the database Enable firewall rule to allow connection using the configured port number Use the Docker network adapter IP address for connection strings","title":"Docker"},{"location":"Installation/Installation_Docker.html#prerequisites","text":"Before beginning the installation, there are several aspects to consider to ensure that Docker is configured correctly.","title":"Prerequisites"},{"location":"Installation/Installation_Docker.html#what-do-i-need-to-check-before-i-install-docker","text":"Before beginning the installation, ensure that Docker is configured to use the following: Using Linux Containers (Windows only) - see Docker instructions on switching containers for more information Has Docker Compose installed? (to check this, type docker-compose )","title":"What do I need to check before I install Docker?"},{"location":"Installation/Installation_Docker.html#running-docker-commands-on-linux","text":"If you're running Docker on a Linux host and you're having issues running these commands, check you have suitable permissions.","title":"Running Docker Commands on Linux"},{"location":"Installation/Installation_Docker.html#walkthrough","text":"This walkthrough will take you through the entire Docker configuration process, resulting in a working environment for the IdentityExpress AdminUI, with the UI and backend API running on the same machine and targeting an existing IdentityServer.","title":"Walkthrough"},{"location":"Installation/Installation_Docker.html#getting-the-docker-compose-file","text":"For most basic installations, we can use the Docker Compose file made available upon purchase. This would have been emailed to you after payment or at the start of your trial. The current Docker Compose file is designed to get you up and running as fast as possible, and start demoing, just run docker-compose up . It will setup 5 Docker containers: Admin UI, Admin API, a test IdentityServer, a test MySQL Database and a test client, all of which are preconfigured to communicate with each other with minimal user input. If you are using our test IdentityServer it is vital that before you begin, you add a map within your hosts file from your local IP address to \"ids\". To do so, browse to your local hosts files, and add an entry as follows: '127.0.0.1 ids' On Windows, your host file is usually found at 'C:\\Windows\\System32\\Drivers\\etc\\hosts' On Linux, your host file is usually found at '/etc/hosts' If you are looking to configure AdminUI against an existing IdentityServer then continue the walkthrough.","title":"Getting the Docker Compose File"},{"location":"Installation/Installation_Docker.html#configuration","text":"There are multiple variables that you can configure in the compose file depending on your setup:","title":"Configuration"},{"location":"Installation/Installation_Docker.html#ports","text":"We can configure both the internal and external ports used in the docker containers. This is in the format of host:container . Please do not change the container port when using the compose file, however you are welcome to change the host port if your environment has any port clashes.","title":"Ports"},{"location":"Installation/Installation_Docker.html#environment-variables","text":"Environment variables are also available for setting application specifics. These are set in the following format in your Docker Compose file: environment: - UiUrl=http://localhost:5000 - ApiUrl=http://localhost:5001 - AuthorityUrl=http://ids:5003 For the api container the minimum configuration required is: DbProvider This sets the database type you are using. Supported types and their values are: SqlServer MySql PostreSql IdentityConnectionString The connection string for your Identity database (users) IdentityServerConnectionString The connection string for your IdentityServer database (clients, resources & grants) AuthorityUrl Url of the IdentityServer installation protecting the UI UiUrl Url of the AdminUI frontend (the idxui container) RequireHttpsMetadata Set to true or false if you want to ensure IdentityServer discovery endpoint uses TLS. Must be true for production LicenseKey The full license key for AdminUI And for the ui container we need: AuthorityUrl Url of the IdentityServer installation protecting AdminUI ApiUrl Url of the AdminUI backend (the idxapi container) UiUrl Url of the AdminUI frontend (the idxui container) The full list of configuration options is avaliable here","title":"Environment Variables"},{"location":"Installation/Installation_Docker.html#identityserver-database-resolution","text":"Ensure that your IdentityServer site is either: Publicly resolvable via DNS or running locally on the Docker host machine on all network devices (e.g: http://+:5555/). If you are running locally, ensure that the AuthorityUrl setting uses the IP address of the local Docker network device. Any used databases must accept remote connections. If this database is on your Docker host machine, you can use the IP address of your Docker network device in the connection string. If you are running IdentityServer and the database locally to the Docker host machine, also ensure that your firewall allows connections on the necessary ports.","title":"IdentityServer &amp; Database Resolution"},{"location":"Installation/Installation_Docker.html#docker-login","text":"Before we can run the containers we have one final step: authentication. The docker images used for Admin UI are found in a private Docker registry, which is protected by a username and password. These credentials are supplied when you purchase AdminUI. Once you have the credentials you run: docker login identityserverregistry.azurecr.io","title":"Docker Login"},{"location":"Installation/Installation_Docker.html#first-run","text":"On each startup the AdminUI API Container will run ALL migrations from its entryscript. If you would like to see and/or modify which migrations run on startup please see our migration documentation .","title":"First Run"},{"location":"Installation/Installation_Docker.html#docker-compose","text":"Now we can run the Docker Compose file using the command: docker-compose up This must be done in the location of the Docker Compose file or by providing the path using the -f flag. You should now be able to access the IdentityExpress Admin UI on http://localhost:5000 .","title":"Docker Compose"},{"location":"Installation/Installation_Docker.html#deploying-docker-images-separately","text":"The Admin UI and API Docker images are designed to be scaled separately. This means you can place each image on separate machines each with their own load balancing policies. Individual Docker Compose files are not available for the UI and API, however you can easily create these with a bit of Docker know-how, or use the docker run command directly. docker run identityserverregistry.azurecr.io/idxui This will run the UI image alone. A similar approach can then be taken with the API image, where the image is tagged identityserverregistry.azurecr.io/idxapi . Ports used can then be set as -p 5000:5000 and environment variables as -e \"AuthorityUrl=http://ids:5003\"","title":"Deploying Docker Images Separately"},{"location":"Installation/Installation_Docker.html#making-docker-public-with-a-reverse-proxy","text":"To make the Docker containers public, we first need to add a web server to the mix. This web server will act as a reverse proxy, forwarding all calls to our running Docker instances. These web servers do not need to dockerized.","title":"Making Docker Public with a Reverse Proxy"},{"location":"Installation/Installation_Docker.html#iis-reverse-proxy","text":"To setup IIS to act as a reverse proxy, there are two prerequisites that need to be installed within IIS: URL Rewrite Module Application Request Routing Once these are installed we can then go to the site we want to configure and select 'URL Rewrite' found in the IIS section. We then need to use \"Add Rule(s)...\", found in the Actions section. We can then use the Reverse proxy template, found in the Inbound and Outbound Rules section. Now we need to set the Inbound Rule, telling IIS where to forward requests to. By default this would be http://localhost:5000. If your Docker container is running HTTPS, ensure you disable SSL Offloading, ensuring TLS is maintained. We also need to configure an Outbound Rule, to allow IIS to return responses from our Docker container using your site URL instead of the Docker container responding directly. Here the From address needs to be the domain of you Docker container (e.g. http://localhost:5000) and the To address you sites address (e.g. api.docker.com).","title":"IIS Reverse Proxy"},{"location":"Installation/Installation_Docker.html#faq","text":"","title":"FAQ"},{"location":"Installation/Installation_Docker.html#why-dont-my-docker-commands-work-on-linux","text":"Ensure you are using a user with sufficient privileges.","title":"Why don't my Docker commands work on Linux?"},{"location":"Installation/Installation_Docker.html#what-do-i-do-if-i-experience-a-port-clash","text":"You may experience a scenario where you have a clash between ports in-use on your host machine and the ports specified in the docker-compose.yml file. Port mappings in the docker-compose.yml file are specified in host:container pairs. You can change the host port in any mapping but be careful to change all occurances of the usage of that host port in other environment variables used in the docker-compose.yml file.","title":"What do I do if I experience a port clash?"},{"location":"Installation/Installation_Docker.html#connecting-to-databases-on-docker-host-machine","text":"To connect a container to a local database running on the Docker host machine, ensure you have configured the following: Enable remote connections to the database Enable firewall rule to allow connection using the configured port number Use the Docker network adapter IP address for connection strings","title":"Connecting to Databases on Docker Host Machine"},{"location":"Installation/Installation_IIS.html","text":"This walkthrough will run through setting up AdminUI manually in IIS. The IdentityExpress Admin UI consists of two sites: the UI, and the backend API. These then integrate with an IdentityServer installation for authentication and authorization AdminUI Deployment AdminUI is deployed as 2 separate IIS Applications - one for the UI website and one for the API website. It is envisaged that they will be configured to communicate with your existing (external) identity server. Prerequisites Before beginning the installation, please ensure that you have IIS, the .NET Core Windows Server Hosting bundle and .NET Framework 4.7.2 installed. You will also need an IdentityServer4 Installation and either a MySql or SqlServer Database set up. There is a sample IdentityServer avaliable here that is already integrated with our IdentityExpress.Identity schema. Walkthrough If you already have a working IdentityServer installation up and running then this walkthrough is for you. This walkthrough will take you through the entire IIS configuration process, resulting in a working environment for IdentityExpress AdminUI, with the UI and backend API running on the same machine and targeting an existing IdentityServer. This will also include migrating your user store to the AdminUI Identity Schema. Configure a Database AdminUI currently only supports MySql, PostgreSQL and SqlServer. This also includes SqlExpress. Any used databases must accept remote connections, also ensure that your firewall allows connections on any used ports. Create IIS Websites Initially you will want to create 2 IIS Websites pointing at the folders we have provided in the emails. This will be one site for the UI front end, and another for backend API. Once created you need to configure the applications for run no managed code. You can do this by going to Application Pools -> [Website Name] -> Basic Settings -> Change .NET CLR Version to No Managed Code. AdminAPI Configuration Once you have a Website Setup for the API, you will need to add some variables to the site in order to get it to run. The variables to be aware of for the API are: DbProvider This sets the database type you are using. Supported types and their values are SqlServer , MySql , or PostreSql IdentityConnectionString The connection string for your Identity database (users) IdentityServerConnectionString The connection string for your IdentityServer database (clients, resources & grants). AuthorityUrl Url of the IdentityServer installation UiUrl Url of the AdminUI frontend (the idxui container) RequireHttpsMetadata Set to true or false if you want to ensure IdentityServer discovery endpoint uses TLS. Must be true for production IdentityDatabaseToMigrateConnectionString (optional) The connection string of your existing ASP.NET Core Identity Entity Framework database that will be migrated to the database used in IdentityConnectionString (this must not be equal to IdentityConnectionString ). There are 2 ways to configure these variables. Either by going to the website in IIS and using the Configuration Editor -> Environment Variables Page and adding them one by one. Or by going directly to the web.config in the folder provided and adding these variables underneath the AspnetCore node. (note: the variables surrounded with ** will need to be changed): <environmentVariables> <environmentVariable name=\"DbProvider\" value=\"**SqlServer**\" /> <environmentVariable name=\"IdentityConnectionString\" value=\"**ConnectionString**\" /> <environmentVariable name=\"IdentityServerConnectionString\" value=\"**ConnectionString**\" /> <environmentVariable name=\"UiUrl\" value=\"**UiURL**\" /> <environmentVariable name=\"AuthorityUrl\" value=\"**IdentityServer URL**\" /> <environmentVariable name=\"RequireHttpsMetadata\" value=\"**false**\" /> <environmentVariable name=\"RunIdentityServerMigrations\" value=\"**true**\" /> <environmentVariable name=\"LicenseKey\" value=\"**Your Licence Key**\" /> </environmentVariables> For a full list of configuration settings, see Configuring AdminUI . AdminUI Configuration Once you have a Website Setup for the UI, you will need to add some variables to the site in order to get it to run. The variables to be aware of for the UI are: AuthorityUrl Url of the IdentityServer installation UiUrl Url of the AdminUI frontend ApiUrl Url of the API setup in the previous step For the UI there is an extra configuration step needed after the Web.Config has been changed. There are 2 ways to configure these variables. Either by going to the website in IIS and under Management using the Configuration Editor -> Environment Variables page and adding them one by one. Or by going directly to the web.config in the folder provided and adding these variables underneath the AspnetCore node. (note: the variables surrounded with ** will need to be changed): <environmentVariables> <environmentVariable name=\"UiUrl\" value=\"**Url Of this Website**\" /> <environmentVariable name=\"AuthorityUrl\" value=\"**IdentityServer URL**\" /> <environmentVariable name=\"ApiUrl\" value=**Api Setup in the Previous Step**\" /> </environmentVariables> Once you have configured these variables you will need to navigate to the provided folder and edit the env.js file in wwwroot/assets. The variables in this will need to match the variables above: var ENV = { AuthorityUrl: '**Identity Server Url Here**', UiUrl: '**Url of this website**', ApiUrl: '**Url Setup in the previous step**' }; Migrations Whether you are installing AdminUI for the first time or upgrading to the latest version of AdminUI, you will need to run some form of migrations to ensure your databases are inline with AdminUI, if you want AdminUI to handle all migrations you can navigate to the folder where your AdminUI API site is and run the following command. dotnet IdentityExpress.Manager.Api.dll -migrate all It will generate the databases for you using the connection strings configured in your AdminUI API web.config. If you are planning on managing some of the database migrations yourself, or want more options when setting up your databases, then there are more fine tune migrations you can do, for more info see our full migration docs here Troubleshooting If you're having issues, we recommend you first enable logging for the API site .","title":"IIS"},{"location":"Installation/Installation_IIS.html#adminui-deployment","text":"AdminUI is deployed as 2 separate IIS Applications - one for the UI website and one for the API website. It is envisaged that they will be configured to communicate with your existing (external) identity server.","title":"AdminUI Deployment"},{"location":"Installation/Installation_IIS.html#prerequisites","text":"Before beginning the installation, please ensure that you have IIS, the .NET Core Windows Server Hosting bundle and .NET Framework 4.7.2 installed. You will also need an IdentityServer4 Installation and either a MySql or SqlServer Database set up. There is a sample IdentityServer avaliable here that is already integrated with our IdentityExpress.Identity schema.","title":"Prerequisites"},{"location":"Installation/Installation_IIS.html#walkthrough","text":"If you already have a working IdentityServer installation up and running then this walkthrough is for you. This walkthrough will take you through the entire IIS configuration process, resulting in a working environment for IdentityExpress AdminUI, with the UI and backend API running on the same machine and targeting an existing IdentityServer. This will also include migrating your user store to the AdminUI Identity Schema.","title":"Walkthrough"},{"location":"Installation/Installation_IIS.html#configure-a-database","text":"AdminUI currently only supports MySql, PostgreSQL and SqlServer. This also includes SqlExpress. Any used databases must accept remote connections, also ensure that your firewall allows connections on any used ports.","title":"Configure a Database"},{"location":"Installation/Installation_IIS.html#create-iis-websites","text":"Initially you will want to create 2 IIS Websites pointing at the folders we have provided in the emails. This will be one site for the UI front end, and another for backend API. Once created you need to configure the applications for run no managed code. You can do this by going to Application Pools -> [Website Name] -> Basic Settings -> Change .NET CLR Version to No Managed Code.","title":"Create IIS Websites"},{"location":"Installation/Installation_IIS.html#adminapi-configuration","text":"Once you have a Website Setup for the API, you will need to add some variables to the site in order to get it to run. The variables to be aware of for the API are: DbProvider This sets the database type you are using. Supported types and their values are SqlServer , MySql , or PostreSql IdentityConnectionString The connection string for your Identity database (users) IdentityServerConnectionString The connection string for your IdentityServer database (clients, resources & grants). AuthorityUrl Url of the IdentityServer installation UiUrl Url of the AdminUI frontend (the idxui container) RequireHttpsMetadata Set to true or false if you want to ensure IdentityServer discovery endpoint uses TLS. Must be true for production IdentityDatabaseToMigrateConnectionString (optional) The connection string of your existing ASP.NET Core Identity Entity Framework database that will be migrated to the database used in IdentityConnectionString (this must not be equal to IdentityConnectionString ). There are 2 ways to configure these variables. Either by going to the website in IIS and using the Configuration Editor -> Environment Variables Page and adding them one by one. Or by going directly to the web.config in the folder provided and adding these variables underneath the AspnetCore node. (note: the variables surrounded with ** will need to be changed): <environmentVariables> <environmentVariable name=\"DbProvider\" value=\"**SqlServer**\" /> <environmentVariable name=\"IdentityConnectionString\" value=\"**ConnectionString**\" /> <environmentVariable name=\"IdentityServerConnectionString\" value=\"**ConnectionString**\" /> <environmentVariable name=\"UiUrl\" value=\"**UiURL**\" /> <environmentVariable name=\"AuthorityUrl\" value=\"**IdentityServer URL**\" /> <environmentVariable name=\"RequireHttpsMetadata\" value=\"**false**\" /> <environmentVariable name=\"RunIdentityServerMigrations\" value=\"**true**\" /> <environmentVariable name=\"LicenseKey\" value=\"**Your Licence Key**\" /> </environmentVariables> For a full list of configuration settings, see Configuring AdminUI .","title":"AdminAPI Configuration"},{"location":"Installation/Installation_IIS.html#adminui-configuration","text":"Once you have a Website Setup for the UI, you will need to add some variables to the site in order to get it to run. The variables to be aware of for the UI are: AuthorityUrl Url of the IdentityServer installation UiUrl Url of the AdminUI frontend ApiUrl Url of the API setup in the previous step For the UI there is an extra configuration step needed after the Web.Config has been changed. There are 2 ways to configure these variables. Either by going to the website in IIS and under Management using the Configuration Editor -> Environment Variables page and adding them one by one. Or by going directly to the web.config in the folder provided and adding these variables underneath the AspnetCore node. (note: the variables surrounded with ** will need to be changed): <environmentVariables> <environmentVariable name=\"UiUrl\" value=\"**Url Of this Website**\" /> <environmentVariable name=\"AuthorityUrl\" value=\"**IdentityServer URL**\" /> <environmentVariable name=\"ApiUrl\" value=**Api Setup in the Previous Step**\" /> </environmentVariables> Once you have configured these variables you will need to navigate to the provided folder and edit the env.js file in wwwroot/assets. The variables in this will need to match the variables above: var ENV = { AuthorityUrl: '**Identity Server Url Here**', UiUrl: '**Url of this website**', ApiUrl: '**Url Setup in the previous step**' };","title":"AdminUI Configuration"},{"location":"Installation/Installation_IIS.html#migrations","text":"Whether you are installing AdminUI for the first time or upgrading to the latest version of AdminUI, you will need to run some form of migrations to ensure your databases are inline with AdminUI, if you want AdminUI to handle all migrations you can navigate to the folder where your AdminUI API site is and run the following command. dotnet IdentityExpress.Manager.Api.dll -migrate all It will generate the databases for you using the connection strings configured in your AdminUI API web.config. If you are planning on managing some of the database migrations yourself, or want more options when setting up your databases, then there are more fine tune migrations you can do, for more info see our full migration docs here","title":"Migrations"},{"location":"Installation/Installation_IIS.html#troubleshooting","text":"If you're having issues, we recommend you first enable logging for the API site .","title":"Troubleshooting"},{"location":"Installation/Installer_Walkthrough.html","text":"This walkthrough will run through setting up AdminUI using the AdminUI installer. Prerequisites Before beginning the installation, please ensure that you have IIS, the .NET Core Windows Server Hosting bundle and .NET Framework 4.7.2 installed. Installation Types There are two flows for installation Typical, where we will handle some of the configuration for you, and Advanced, where you can configure all avaliable options. For first time, or demo, users we recommend using typical installation. You will then get the option to install our demo IdentityServer example alongside AdminUI, this is recommended for first time demo users looking to get AdminUI up and running quickly. If you have selected to install our demo IdentityServer example, then you will be asked to select a install location for it. IIS will need permissions to access the files in this location. Required Configuration Whether or not you are installing the example IdentityServer, you will need to set the following configuration for AdminUI IdentityServer Authority Url: The URL that your existing IdentityServer is running on, or the URL you want the demo IdentityServer example to run on. Database provider: The database provider that you are using, avaliable options are SqlServer, MySql and PostgreSql IdentityServer connection string: The connection string to the database containing your IdentityServer configuration, if this database doesnt exist it will be created during the migration step later in the installer. Identity Connection string (Optional): An optional connection string for your Identity (users) database. Will default to your IdentityServer connection string. Audit Configuration (Advanced Only) Audit configuration, only avaliable during advanced installation. Audit read actions: Whether or not to audit read actions within AdminUI, for example when a user views a client through AdminUI. Defaults to false for typical installation. Audit culture: The language that the audit messages are generated in. Defaults to English (en-GB) for typical installation. Seperate audit connection string: An optional seperate connection string for storing audit messages. Defaults to your IdentityServer connection string on a typical installation. AdminUI Installer The AdminUI installation will then begin. You will need to accept our terms and conditions before continuing. Enter your AdminUI license key here, if you dont have a license key, you can request a demo from here You will then need to setup the following settings for the AdminUI IIS sites. AdminUI website url: The URL for the AdminUI UI site, will be added as a binding for the site in IIS AdminUI website name: The IIS website name for AdminUI UI site. AdminApi website url: The URL for the AdminUI API site, will be added as a binding for the site in IIS AdminApi website name: The IIS website name for AdminUI API site. The install location for AdminUI, IIS will need permissions to access the files in this location. Configuration for logging within AdminUI Enable logging for the AdminUI API?: Set whether or not to enable logging within AdminUI, enabled by default. Folder to output logs to: The location to log to, IIS will need permission to read and write files at this location. Click install to continue installation Migrations Once installation is complete, you will need to migrate your databases, you can configure which databases you want us to migrate for you. In your connection string, your user as will need to have the appropriate permissions to create and update databases. Optionally you can also skip migrations at this point and handle migrations yourself, more info on our migrations is avaliable here If you select the Advanced option here, you can manually set each connection string to change the user you are migrating as. We will then attempt to run migrations, any errors that occur will appear here for each migration. If you run migrations you may now need to restart your API site to reconnect to the created databases, and complete the setup of AdminUI. Installation Complete Your AdminUI installation should now be complete, you can click one of the below links to navigate to the created sites or to see our documentation. If you have encounted any issues during installation, dont hesitate to contact us at support@identityserver.com","title":"Installer"},{"location":"Installation/Installer_Walkthrough.html#prerequisites","text":"Before beginning the installation, please ensure that you have IIS, the .NET Core Windows Server Hosting bundle and .NET Framework 4.7.2 installed.","title":"Prerequisites"},{"location":"Installation/Installer_Walkthrough.html#installation-types","text":"There are two flows for installation Typical, where we will handle some of the configuration for you, and Advanced, where you can configure all avaliable options. For first time, or demo, users we recommend using typical installation. You will then get the option to install our demo IdentityServer example alongside AdminUI, this is recommended for first time demo users looking to get AdminUI up and running quickly. If you have selected to install our demo IdentityServer example, then you will be asked to select a install location for it. IIS will need permissions to access the files in this location.","title":"Installation Types"},{"location":"Installation/Installer_Walkthrough.html#required-configuration","text":"Whether or not you are installing the example IdentityServer, you will need to set the following configuration for AdminUI IdentityServer Authority Url: The URL that your existing IdentityServer is running on, or the URL you want the demo IdentityServer example to run on. Database provider: The database provider that you are using, avaliable options are SqlServer, MySql and PostgreSql IdentityServer connection string: The connection string to the database containing your IdentityServer configuration, if this database doesnt exist it will be created during the migration step later in the installer. Identity Connection string (Optional): An optional connection string for your Identity (users) database. Will default to your IdentityServer connection string.","title":"Required Configuration"},{"location":"Installation/Installer_Walkthrough.html#audit-configuration-advanced-only","text":"Audit configuration, only avaliable during advanced installation. Audit read actions: Whether or not to audit read actions within AdminUI, for example when a user views a client through AdminUI. Defaults to false for typical installation. Audit culture: The language that the audit messages are generated in. Defaults to English (en-GB) for typical installation. Seperate audit connection string: An optional seperate connection string for storing audit messages. Defaults to your IdentityServer connection string on a typical installation.","title":"Audit Configuration (Advanced Only)"},{"location":"Installation/Installer_Walkthrough.html#adminui-installer","text":"The AdminUI installation will then begin. You will need to accept our terms and conditions before continuing. Enter your AdminUI license key here, if you dont have a license key, you can request a demo from here You will then need to setup the following settings for the AdminUI IIS sites. AdminUI website url: The URL for the AdminUI UI site, will be added as a binding for the site in IIS AdminUI website name: The IIS website name for AdminUI UI site. AdminApi website url: The URL for the AdminUI API site, will be added as a binding for the site in IIS AdminApi website name: The IIS website name for AdminUI API site. The install location for AdminUI, IIS will need permissions to access the files in this location. Configuration for logging within AdminUI Enable logging for the AdminUI API?: Set whether or not to enable logging within AdminUI, enabled by default. Folder to output logs to: The location to log to, IIS will need permission to read and write files at this location. Click install to continue installation","title":"AdminUI Installer"},{"location":"Installation/Installer_Walkthrough.html#migrations","text":"Once installation is complete, you will need to migrate your databases, you can configure which databases you want us to migrate for you. In your connection string, your user as will need to have the appropriate permissions to create and update databases. Optionally you can also skip migrations at this point and handle migrations yourself, more info on our migrations is avaliable here If you select the Advanced option here, you can manually set each connection string to change the user you are migrating as. We will then attempt to run migrations, any errors that occur will appear here for each migration. If you run migrations you may now need to restart your API site to reconnect to the created databases, and complete the setup of AdminUI.","title":"Migrations"},{"location":"Installation/Installer_Walkthrough.html#installation-complete","text":"Your AdminUI installation should now be complete, you can click one of the below links to navigate to the created sites or to see our documentation. If you have encounted any issues during installation, dont hesitate to contact us at support@identityserver.com","title":"Installation Complete"},{"location":"Migrations/Migrations_Help.html","text":"AdminUI Migrations AdminUI comes with a tool to run all the necessary migrations. Alongside its own migrations, AdminUI can optionally run and maintain your IdentityServer4 and or Identity migrations, or you can handle them yourself. If you own SAML2P or WS-Fed, and wish to use its respective features within AdminUI, you will need to run their migrations. By navigating to your AdminUI install directory and locating the IdentityExpress.Manager.Api.dll you can you run the dll using dotnet IdentityExpress.Manager.Api.dll -migrate <migration-to-run> AdminUI has a number of different migrations that need to be run, you can run one individually or choose to run them all at once. The different migrations options are: Migration Type Description All Runs all the migrations (Recommended for Demo users) Configuration IdentityServer4 Configuration Migration ExtendedConfiguration AdminUI IdentityServer4 extension Operational IdentityServer4 Operational migration Identity ASP Identity Migration Audit RSK AdminUI Audit Migration Saml SAML2P Component migration WsFed Ws-Federation Component migration A help function may be accessed by adding -help Supported DbProviders SqlServer MySql PostgreSql You may also specify a connection string and which database provider you are you using with -connectionstring and -dbprovider. The connection string must be valid and surrounded by quotes. If no connectionstring and dbprovider are given, the migration tool will look in the Api\u2019s webconfig for the values. Docker Migrations If the container is not running and you would like to run migrations use the following command docker run -e \"DbProvider=<YourProvider>\" -e \"IdentityConnectionString=<YourConnectionString>\" -e IdentityServerConnectionString=\"<YourConnectionString>\" --entrypoint dotnet identityserverregistry.azurecr.io/idxapi IdentityExpress.Manager.Api.dll -migrate all Note - The full list of configuration options is avaliable here If the container is already running the steps to run migrations are as follows: Find the container ID by running the \u201cdocker container ps\u201d command Once found, you can exec the command as follows: docker exec <container-id> dotnet IdentityExpress.Manager.Api.dll -migrate all Note - This will use the environment variables already passed into the container. You will see the output of the migrations in your command line window.","title":"Migrations"},{"location":"Migrations/Migrations_Help.html#adminui-migrations","text":"AdminUI comes with a tool to run all the necessary migrations. Alongside its own migrations, AdminUI can optionally run and maintain your IdentityServer4 and or Identity migrations, or you can handle them yourself. If you own SAML2P or WS-Fed, and wish to use its respective features within AdminUI, you will need to run their migrations. By navigating to your AdminUI install directory and locating the IdentityExpress.Manager.Api.dll you can you run the dll using dotnet IdentityExpress.Manager.Api.dll -migrate <migration-to-run> AdminUI has a number of different migrations that need to be run, you can run one individually or choose to run them all at once. The different migrations options are: Migration Type Description All Runs all the migrations (Recommended for Demo users) Configuration IdentityServer4 Configuration Migration ExtendedConfiguration AdminUI IdentityServer4 extension Operational IdentityServer4 Operational migration Identity ASP Identity Migration Audit RSK AdminUI Audit Migration Saml SAML2P Component migration WsFed Ws-Federation Component migration A help function may be accessed by adding -help Supported DbProviders SqlServer MySql PostgreSql You may also specify a connection string and which database provider you are you using with -connectionstring and -dbprovider. The connection string must be valid and surrounded by quotes. If no connectionstring and dbprovider are given, the migration tool will look in the Api\u2019s webconfig for the values.","title":"AdminUI Migrations"},{"location":"Migrations/Migrations_Help.html#docker-migrations","text":"If the container is not running and you would like to run migrations use the following command docker run -e \"DbProvider=<YourProvider>\" -e \"IdentityConnectionString=<YourConnectionString>\" -e IdentityServerConnectionString=\"<YourConnectionString>\" --entrypoint dotnet identityserverregistry.azurecr.io/idxapi IdentityExpress.Manager.Api.dll -migrate all Note - The full list of configuration options is avaliable here If the container is already running the steps to run migrations are as follows: Find the container ID by running the \u201cdocker container ps\u201d command Once found, you can exec the command as follows: docker exec <container-id> dotnet IdentityExpress.Manager.Api.dll -migrate all Note - This will use the environment variables already passed into the container. You will see the output of the migrations in your command line window.","title":"Docker Migrations"},{"location":"Read_First/Installation_Scenarios.html","text":"Installation Scenarios I have neither IdentityServer or AdminUI installed See here for a introduction to IdentityServer and where AdminUI fits in. If you haven't already requested a demo, you can get one from here where you will receive a download link for AdminUI plus a 30 day demo license key. For IdentityServer, we recommend using our quickstart , that is already integrated with AdminUI. You can then follow one of the walkthroughs below to install AdminUI IIS Azure Docker I have IdentityServer4 2.2 or below and no installation of AdminUI You will need to migrate your IdentityServer database to the IdentityServer 2.3 schema. The simplest way is to upgrade your IdentityServer packages to 2.3 and generate the migrations, you can find out more on generating your own IdentityServer migrations here . I have IdentityServer4 2.2 or below and AdminUI 2.0 - 2.3 installed If you previously requested that AdminUI run the IdentityServer migrations then then run the migrate all command, otherwise, you will need to upgrade your IdentityServer4 to 2.3 and generate your own migrations. I have IdentityServer4 2.3 or above installed and no AdminUI Install the latest version of AdminUI, and run all migrations but the IdentityServer migration, see migrations below. I have IdentityServer4 2.3 or above installed and AdminUI 2.4 or above installed Install the latest version of AdminUI, update your configuration, and then run the migrate all command, see below. Migrations Whether you are installing AdminUI for the first time or upgrading to the latest version of AdminUI, you will need to run some form of migrations to ensure your databases are inline with AdminUI, if you want AdminUI to handle all migrations you can navigate to the folder where your AdminUI API site is and run the following command. dotnet IdentityExpress.Manager.Api.dll -migrate all It will generate the databases for you using the connection strings configured in your AdminUI API web.config. If you are planning on managing some of the database migrations yourself, or want more options when setting up your databases, then there are more fine tune migrations you can do, for more info see our full migration docs here","title":"Installation Scenarios"},{"location":"Read_First/Installation_Scenarios.html#installation-scenarios","text":"","title":"Installation Scenarios"},{"location":"Read_First/Installation_Scenarios.html#i-have-neither-identityserver-or-adminui-installed","text":"See here for a introduction to IdentityServer and where AdminUI fits in. If you haven't already requested a demo, you can get one from here where you will receive a download link for AdminUI plus a 30 day demo license key. For IdentityServer, we recommend using our quickstart , that is already integrated with AdminUI. You can then follow one of the walkthroughs below to install AdminUI IIS Azure Docker","title":"I have neither IdentityServer or AdminUI installed"},{"location":"Read_First/Installation_Scenarios.html#i-have-identityserver4-22-or-below-and-no-installation-of-adminui","text":"You will need to migrate your IdentityServer database to the IdentityServer 2.3 schema. The simplest way is to upgrade your IdentityServer packages to 2.3 and generate the migrations, you can find out more on generating your own IdentityServer migrations here .","title":"I have IdentityServer4 2.2 or below and no installation of AdminUI"},{"location":"Read_First/Installation_Scenarios.html#i-have-identityserver4-22-or-below-and-adminui-20-23-installed","text":"If you previously requested that AdminUI run the IdentityServer migrations then then run the migrate all command, otherwise, you will need to upgrade your IdentityServer4 to 2.3 and generate your own migrations.","title":"I have IdentityServer4 2.2 or below and AdminUI 2.0 - 2.3 installed"},{"location":"Read_First/Installation_Scenarios.html#i-have-identityserver4-23-or-above-installed-and-no-adminui","text":"Install the latest version of AdminUI, and run all migrations but the IdentityServer migration, see migrations below.","title":"I have IdentityServer4 2.3 or above installed and no AdminUI"},{"location":"Read_First/Installation_Scenarios.html#i-have-identityserver4-23-or-above-installed-and-adminui-24-or-above-installed","text":"Install the latest version of AdminUI, update your configuration, and then run the migrate all command, see below.","title":"I have IdentityServer4 2.3 or above installed and AdminUI 2.4 or above installed"},{"location":"Read_First/Installation_Scenarios.html#migrations","text":"Whether you are installing AdminUI for the first time or upgrading to the latest version of AdminUI, you will need to run some form of migrations to ensure your databases are inline with AdminUI, if you want AdminUI to handle all migrations you can navigate to the folder where your AdminUI API site is and run the following command. dotnet IdentityExpress.Manager.Api.dll -migrate all It will generate the databases for you using the connection strings configured in your AdminUI API web.config. If you are planning on managing some of the database migrations yourself, or want more options when setting up your databases, then there are more fine tune migrations you can do, for more info see our full migration docs here","title":"Migrations"},{"location":"Resources/creating_resources.html","text":"Create Resource To create a Resource, use the Add button on either an Identity or Protected Resource type. A new Resource dialog will appear, enabling you to add the Basic Resource Details you require ID , Display Name and Description Once basic details are complete, you can choose which claim types can be included for that resource: Protected Resources & Scopes By default, when creating a Protected Resource, a Full Access scope will automatically be created. This can later be modified or removed completely.","title":"Creating Resources"},{"location":"Resources/creating_resources.html#create-resource","text":"To create a Resource, use the Add button on either an Identity or Protected Resource type. A new Resource dialog will appear, enabling you to add the Basic Resource Details you require ID , Display Name and Description Once basic details are complete, you can choose which claim types can be included for that resource:","title":"Create Resource"},{"location":"Resources/creating_resources.html#protected-resources-scopes","text":"By default, when creating a Protected Resource, a Full Access scope will automatically be created. This can later be modified or removed completely.","title":"Protected Resources &amp; Scopes"},{"location":"Resources/editing_resources.html","text":"Editing a Resource Resources can be edited from the Protected or Identity Resources page by first selecting the Resource Identity Resources Edit Mode Once you are in edit mode for an Identity Resource, you will initially arrive at the Details page. The Resource ID will be displayed in a read-only view. This is the unique identifier for requests. This section also allows you to edit the Display name of the Resource - this is the Resource Name that will be seen on consent screens, along with the Resource Description , and a Resource Status switch. You will also be able to to set various statuses of the Resource: Whether explicit consent to use this resource is required in order to complete authentication Whether the resource appears within the Discovery Document /.well-known/openid-configuration Whether to emphasize the Resource Name on the Consent screen Protected Resources Edit Mode Once you are in edit mode for a Protected Resource, you will initially arrive at the Details page. The Resource ID will be displayed in a read-only view. This is the unique identifier for requests. This section also allows you to edit the Display name of the Resource - this is the Resource Name that will be seen on consent screens, along with the Resource Description and a Resource Status switch: Protected Resources Scope Editing From the Protected Resources tab, there is the ability to add and edit the Scope of the resource. Select the Scopes tab and you will observe the existing Scopes available for this Protected Resource. By default, Admin API is available as a Scope: At this point, you can switch between the Details and Claims tab. The options on the Details tab show the read-only Scope ID (e.g. \"admin_api\"), and enable you to edit the Display Name and Description . You will also be able to to set various statuses of the Scope for this Protected Resource: Whether explicit consent to use this resource is required in order to complete authentication Whether the resource appears within the Discovery Document /.well-known/openid-configuration Whether to emphasize the Resource Name on the Consent screen Additionally, from within a Protected Resources Scope Edit mode, you will be able to select the Claims available for this Scope. This sets the User Claim types that are to be included in tokens, and these Claims types will be added to the list of claim types for the parent resource.","title":"Editing resources"},{"location":"Resources/editing_resources.html#editing-a-resource","text":"Resources can be edited from the Protected or Identity Resources page by first selecting the Resource","title":"Editing a Resource"},{"location":"Resources/editing_resources.html#identity-resources-edit-mode","text":"Once you are in edit mode for an Identity Resource, you will initially arrive at the Details page. The Resource ID will be displayed in a read-only view. This is the unique identifier for requests. This section also allows you to edit the Display name of the Resource - this is the Resource Name that will be seen on consent screens, along with the Resource Description , and a Resource Status switch. You will also be able to to set various statuses of the Resource: Whether explicit consent to use this resource is required in order to complete authentication Whether the resource appears within the Discovery Document /.well-known/openid-configuration Whether to emphasize the Resource Name on the Consent screen","title":"Identity Resources Edit Mode"},{"location":"Resources/editing_resources.html#protected-resources-edit-mode","text":"Once you are in edit mode for a Protected Resource, you will initially arrive at the Details page. The Resource ID will be displayed in a read-only view. This is the unique identifier for requests. This section also allows you to edit the Display name of the Resource - this is the Resource Name that will be seen on consent screens, along with the Resource Description and a Resource Status switch:","title":"Protected Resources Edit Mode"},{"location":"Resources/editing_resources.html#protected-resources-scope-editing","text":"From the Protected Resources tab, there is the ability to add and edit the Scope of the resource. Select the Scopes tab and you will observe the existing Scopes available for this Protected Resource. By default, Admin API is available as a Scope: At this point, you can switch between the Details and Claims tab. The options on the Details tab show the read-only Scope ID (e.g. \"admin_api\"), and enable you to edit the Display Name and Description . You will also be able to to set various statuses of the Scope for this Protected Resource: Whether explicit consent to use this resource is required in order to complete authentication Whether the resource appears within the Discovery Document /.well-known/openid-configuration Whether to emphasize the Resource Name on the Consent screen Additionally, from within a Protected Resources Scope Edit mode, you will be able to select the Claims available for this Scope. This sets the User Claim types that are to be included in tokens, and these Claims types will be added to the list of claim types for the parent resource.","title":"Protected Resources Scope Editing"},{"location":"Resources/searching_for_resources.html","text":"Searching for Resources Starting from the Identity Resources or Protected Resources tab, you can find Resources using the Search functionality. Select the resource type you would like (e.g. Identity or Protected), start typing and the Resource will appear if there is a match. Note that this functionality is the same process for both Identity Resources, and Protected Resources:","title":"Searching for Resources"},{"location":"Resources/searching_for_resources.html#searching-for-resources","text":"Starting from the Identity Resources or Protected Resources tab, you can find Resources using the Search functionality. Select the resource type you would like (e.g. Identity or Protected), start typing and the Resource will appear if there is a match. Note that this functionality is the same process for both Identity Resources, and Protected Resources:","title":"Searching for Resources"},{"location":"Roles/Creating_roles.html","text":"Creating Roles Roles can be created in AdminUI in order to create the roles you need within your application. By clicking \"Add Role\", we can create a new role within the AdminUI application. Selecting this button will bring up a window to enable you to add a new role. There is a simple Name and Description field, and the option to either Add directly, or Add another Role after Submit. Adding another role after submit simply shows a blank version of the New Role window. Success! If the role has been successfully added, a success dialogue will display.","title":"Creating Roles"},{"location":"Roles/Creating_roles.html#creating-roles","text":"Roles can be created in AdminUI in order to create the roles you need within your application. By clicking \"Add Role\", we can create a new role within the AdminUI application. Selecting this button will bring up a window to enable you to add a new role. There is a simple Name and Description field, and the option to either Add directly, or Add another Role after Submit. Adding another role after submit simply shows a blank version of the New Role window.","title":"Creating Roles"},{"location":"Roles/Creating_roles.html#success","text":"If the role has been successfully added, a success dialogue will display.","title":"Success!"},{"location":"Roles/Managing_Roles.html","text":"Searching for Roles Searching for Roles within Admin UI is a powerful way to quickly find and manage the Roles within the application. You can find Roles in the application in several ways, starting with the Search functionality. Start typing and the role will appear if there is a match. Editing a Role Roles can be edited within AdminUI in order to edit the roles already setup in your application. By clicking the pencil icon, an Edit dialogue will appear enabling us to customise the role within the AdminUI application. Once you have made the edits you require, click \"Save\" to persist the changes to the Role you have saved. If the changes have been saved as required, you will observe a \"Changes Saved\" dialogue appear. Deleting Roles During the Edit Roles dialogue, a Delete button option will appear. If this is clicked, you will be warned as to whether you want to permanently delete this role. You can change your mind and close the dialogue or not delete, or click \"Delete\" to proceed with this deletion.","title":"Managing Roles"},{"location":"Roles/Managing_Roles.html#searching-for-roles","text":"Searching for Roles within Admin UI is a powerful way to quickly find and manage the Roles within the application. You can find Roles in the application in several ways, starting with the Search functionality. Start typing and the role will appear if there is a match.","title":"Searching for Roles"},{"location":"Roles/Managing_Roles.html#editing-a-role","text":"Roles can be edited within AdminUI in order to edit the roles already setup in your application. By clicking the pencil icon, an Edit dialogue will appear enabling us to customise the role within the AdminUI application. Once you have made the edits you require, click \"Save\" to persist the changes to the Role you have saved. If the changes have been saved as required, you will observe a \"Changes Saved\" dialogue appear.","title":"Editing a Role"},{"location":"Roles/Managing_Roles.html#deleting-roles","text":"During the Edit Roles dialogue, a Delete button option will appear. If this is clicked, you will be warned as to whether you want to permanently delete this role. You can change your mind and close the dialogue or not delete, or click \"Delete\" to proceed with this deletion.","title":"Deleting Roles"},{"location":"Roles/Users_in_Role_Management.html","text":"Managing users in a role You can see the users associated with a role by selecting the user tab. The users in this list represent the users associated with the current role. Using the search input, you can filter the list. Using the 'Manage Users' button opens a new dialogue which allows you to perform multiple operations for associating and de-associating users from a role. Using the search input box, you can filter the list of users by their name. Removing Users Users in the current role are those who have tick when they appear in the list. To remove that user from a list, select the checkbox to uncheck the user. That user appears in the Removing list. Add Users Users who are not currently associated with a role appear in the list without the checkbox is active. To associate the user to the current role, select the checkbox, and the user appears in the Adding list. Saving Changes To save the changes select the 'Save' button","title":"Managing Users in a Role"},{"location":"Roles/Users_in_Role_Management.html#managing-users-in-a-role","text":"You can see the users associated with a role by selecting the user tab. The users in this list represent the users associated with the current role. Using the search input, you can filter the list. Using the 'Manage Users' button opens a new dialogue which allows you to perform multiple operations for associating and de-associating users from a role. Using the search input box, you can filter the list of users by their name.","title":"Managing users in a role"},{"location":"Roles/Users_in_Role_Management.html#removing-users","text":"Users in the current role are those who have tick when they appear in the list. To remove that user from a list, select the checkbox to uncheck the user. That user appears in the Removing list.","title":"Removing Users"},{"location":"Roles/Users_in_Role_Management.html#add-users","text":"Users who are not currently associated with a role appear in the list without the checkbox is active. To associate the user to the current role, select the checkbox, and the user appears in the Adding list.","title":"Add Users"},{"location":"Roles/Users_in_Role_Management.html#saving-changes","text":"To save the changes select the 'Save' button","title":"Saving Changes"},{"location":"User_settings_endpoints/User_settings.html","text":"Scopes To access the user settings endpoints, an access token issued by your IdentityServer implementation with the scope admin_ui_public . This access token must have been issued on behalf of a user and contain a sub claim. Authorization Rules In order to use the user settings endpoints, the requesting user, must be the same as the users being updated. Otherwise, a 403 Forbidden will be returned. This is matched using the sub claim issued within the requesting access token. Read To see what claims a user can edit, and their current values, you can call GET on the /UserSettings/{subject} endpoint. This will return the following json: \"subject\": \"string\", \"claims\": \"type\": \"string\", \"value\": \"string\" Update To update a users claims, you can call PUT on the /UserSettings endpoint. \"subject\": \"string\", \"claims\": \"type\": \"string\", \"value\": \"string\"","title":"User Settings Endpoints"},{"location":"User_settings_endpoints/User_settings.html#scopes","text":"To access the user settings endpoints, an access token issued by your IdentityServer implementation with the scope admin_ui_public . This access token must have been issued on behalf of a user and contain a sub claim.","title":"Scopes"},{"location":"User_settings_endpoints/User_settings.html#authorization-rules","text":"In order to use the user settings endpoints, the requesting user, must be the same as the users being updated. Otherwise, a 403 Forbidden will be returned. This is matched using the sub claim issued within the requesting access token.","title":"Authorization Rules"},{"location":"User_settings_endpoints/User_settings.html#read","text":"To see what claims a user can edit, and their current values, you can call GET on the /UserSettings/{subject} endpoint. This will return the following json: \"subject\": \"string\", \"claims\": \"type\": \"string\", \"value\": \"string\"","title":"Read"},{"location":"User_settings_endpoints/User_settings.html#update","text":"To update a users claims, you can call PUT on the /UserSettings endpoint. \"subject\": \"string\", \"claims\": \"type\": \"string\", \"value\": \"string\"","title":"Update"},{"location":"Users/Adding_users.html","text":"Adding Users From the Users page, click the \"Add a User\" button User Details Fill out the relevant User Details including: Username Email First Name Last Name Any additional required claims will also need to be entered. User Validation You will not be able to add a new user until the required field validation has passed. Save & Configure Once you have successfully entered all required information, you will be able to choose whether to \"Save\" or \"Save and Configure\" this User. Selecting \"Save\" will take you back to the Users screen, selecting \"Save and Configure\" will take you to the User details configuration screen to edit the user. Success You have now successfully added a user. If successful, you should see a Success notification, or you will be informed of any issues.","title":"Adding Users"},{"location":"Users/Adding_users.html#adding-users","text":"From the Users page, click the \"Add a User\" button","title":"Adding Users"},{"location":"Users/Adding_users.html#user-details","text":"Fill out the relevant User Details including: Username Email First Name Last Name Any additional required claims will also need to be entered.","title":"User Details"},{"location":"Users/Adding_users.html#user-validation","text":"You will not be able to add a new user until the required field validation has passed.","title":"User Validation"},{"location":"Users/Adding_users.html#save-configure","text":"Once you have successfully entered all required information, you will be able to choose whether to \"Save\" or \"Save and Configure\" this User. Selecting \"Save\" will take you back to the Users screen, selecting \"Save and Configure\" will take you to the User details configuration screen to edit the user.","title":"Save &amp; Configure"},{"location":"Users/Adding_users.html#success","text":"You have now successfully added a user. If successful, you should see a Success notification, or you will be informed of any issues.","title":"Success"},{"location":"Users/Deleting_Users.html","text":"Deleting a user If you choose to delete a user from the User Details page, click the delete button. You should then see a dialogue warning you that you are going to delete the user. At this point you can either cancel, or continue with the delete. Confirmation of Delete If the deletion of a user has been successful, a \"user deleted\" confirmation will appear","title":"Deleting Users"},{"location":"Users/Deleting_Users.html#deleting-a-user","text":"If you choose to delete a user from the User Details page, click the delete button. You should then see a dialogue warning you that you are going to delete the user. At this point you can either cancel, or continue with the delete.","title":"Deleting a user"},{"location":"Users/Deleting_Users.html#confirmation-of-delete","text":"If the deletion of a user has been successful, a \"user deleted\" confirmation will appear","title":"Confirmation of Delete"},{"location":"Users/Editing_users.html","text":"Editing a User Access the User Details screen by finding the user that you want to edit in the Users page list. This will take you to the User Details screen, where you can edit the required User details. You will notice that there are several key tabs, which we will cover in detail. Details Tab The default tab is the \"Details\" tab, where you will see the User ID, and be able to edit the following elements of a user: Username First name Last name Email Organization Any additional, custom required claims you have created You will also be able to set a user to \"Blocked\" or remove their blocked status and set them to \"Active\" again. Once you have successfully made the edits you require, click Save, and you should then see a success dialogue informing you that your changes have been saved. Roles Tab Clicking on the Roles tab allows you to assign roles to a User. Roles administration is explained in more detail in the Roles section, however, you can assign Roles to a user from the Users dialogue. Using this screen you can assign avaliable roles to this user, select the arrow to move the selected roles from Available to Assigned. To remove roles from a user, select the roles you want to remove and click the arrow to move the role from \"Assigned\" to \"Available\". Additional Details Tab Within the User Details page, clicking on the Additional Details tab enables you to add relevant additional optional user details, known as Claims . Here you can assign and remove claims for a specific user. To add a claim click on the \"Add Claim\" button. This will open a dialog to create a claim. Select a claim type from the drop-down of the full list of User claim types, enter a value, and click add to assign the claim to the user. You should then see a success dialogue informing you that your claim has been added. You can choose to edit or delete any claim. Click the pencil icon to edit the claim, or the delete icon to remove the claim entirely from this user. Editing the claim will turn the field into a writeable text-box that will allow you to change the value of the claim. Applications tab Clicking on the Applications tab in the User Details page enables you to view all Applications that the selected User has given consent to. Select an application to see more details about the application including what scopes the application has access to. From here you can also revoke a users consent.","title":"Editing Users"},{"location":"Users/Editing_users.html#editing-a-user","text":"Access the User Details screen by finding the user that you want to edit in the Users page list. This will take you to the User Details screen, where you can edit the required User details. You will notice that there are several key tabs, which we will cover in detail.","title":"Editing a User"},{"location":"Users/Editing_users.html#details-tab","text":"The default tab is the \"Details\" tab, where you will see the User ID, and be able to edit the following elements of a user: Username First name Last name Email Organization Any additional, custom required claims you have created You will also be able to set a user to \"Blocked\" or remove their blocked status and set them to \"Active\" again. Once you have successfully made the edits you require, click Save, and you should then see a success dialogue informing you that your changes have been saved.","title":"Details Tab"},{"location":"Users/Editing_users.html#roles-tab","text":"Clicking on the Roles tab allows you to assign roles to a User. Roles administration is explained in more detail in the Roles section, however, you can assign Roles to a user from the Users dialogue. Using this screen you can assign avaliable roles to this user, select the arrow to move the selected roles from Available to Assigned. To remove roles from a user, select the roles you want to remove and click the arrow to move the role from \"Assigned\" to \"Available\".","title":"Roles Tab"},{"location":"Users/Editing_users.html#additional-details-tab","text":"Within the User Details page, clicking on the Additional Details tab enables you to add relevant additional optional user details, known as Claims . Here you can assign and remove claims for a specific user. To add a claim click on the \"Add Claim\" button. This will open a dialog to create a claim. Select a claim type from the drop-down of the full list of User claim types, enter a value, and click add to assign the claim to the user. You should then see a success dialogue informing you that your claim has been added. You can choose to edit or delete any claim. Click the pencil icon to edit the claim, or the delete icon to remove the claim entirely from this user. Editing the claim will turn the field into a writeable text-box that will allow you to change the value of the claim.","title":"Additional Details Tab"},{"location":"Users/Editing_users.html#applications-tab","text":"Clicking on the Applications tab in the User Details page enables you to view all Applications that the selected User has given consent to. Select an application to see more details about the application including what scopes the application has access to. From here you can also revoke a users consent.","title":"Applications tab"},{"location":"Users/Searching_for_users.html","text":"Searching for Users You can find Users in the application in several ways, starting with the Search functionality. Start entering the name of the user that you wish to search for, and options should appear as users matching the search are found: User Ordering You can also find Users by ordering the columns to get to the user you require. This can be achieved by clicking the caret on each column. The caret will alter to indicate the direction of the sort: User Selection by Status Users can be one of 3 statuses Active , Blocked or Deleted On the Users page, it is possible to sort users by their status by clicking on the relevant Status tab. This will filter out all users that are not of that status type.","title":"Searching for Users"},{"location":"Users/Searching_for_users.html#searching-for-users","text":"You can find Users in the application in several ways, starting with the Search functionality. Start entering the name of the user that you wish to search for, and options should appear as users matching the search are found:","title":"Searching for Users"},{"location":"Users/Searching_for_users.html#user-ordering","text":"You can also find Users by ordering the columns to get to the user you require. This can be achieved by clicking the caret on each column. The caret will alter to indicate the direction of the sort:","title":"User Ordering"},{"location":"Users/Searching_for_users.html#user-selection-by-status","text":"Users can be one of 3 statuses Active , Blocked or Deleted On the Users page, it is possible to sort users by their status by clicking on the relevant Status tab. This will filter out all users that are not of that status type.","title":"User Selection by Status"},{"location":"Users/Set_User_Password.html","text":"Evaluating AdminUI If you are using a demo license key, when you create a user we give you the ability to set a password for that user. We do this to simplify the creation of users while you are evaluating the product. However, we do not recommend this for production installations . In production When you are using a production key we do not give you the ability to set a password for the user on the Add User screen by default. Our recommendation is to use an email flow for the user to set their own password. You can enable this via a webhook as explained here . However, if, in your situation, you do want to enable the ability for an administrator to set the password for a new user, you can turn on this feature with the AddUserPassword as documented here","title":"Set User Password"},{"location":"Users/Set_User_Password.html#evaluating-adminui","text":"If you are using a demo license key, when you create a user we give you the ability to set a password for that user. We do this to simplify the creation of users while you are evaluating the product. However, we do not recommend this for production installations .","title":"Evaluating AdminUI"},{"location":"Users/Set_User_Password.html#in-production","text":"When you are using a production key we do not give you the ability to set a password for the user on the Add User screen by default. Our recommendation is to use an email flow for the user to set their own password. You can enable this via a webhook as explained here . However, if, in your situation, you do want to enable the ability for an administrator to set the password for a new user, you can turn on this feature with the AddUserPassword as documented here","title":"In production"},{"location":"Webhooks/password_reset_endpoint.html","text":"Configuration To enable the Password Reset webhook within AdminUI, you must first have configured a webhook client for authorization with AdminUI and IdentityServer. For more information see Webhooks You will then need to create an Endpoint secured and Authenticated by your IdentityServer that uses the admin_ui_webhooks scope for authorization. Once you have your Endpoint configured, you can set the PasswordResetEndpoint config setting with the AdminUI API config with Url for your endpoint. When this setting has a value, a button on the User details page that triggers your password reset webhook will appear. Endpoint Specification AdminUI expects your endpoint to meet the following requirements: Accept POST Accept JSON Accept an email in the body The request made by AdminUI will look like the following: Headers Content-Type: application/json Authorization: Bearer xyz Body { \"email\": \"string\" } Response On a successful Password Reset a 200 OK response should be returned, anything other than a success code will show the User the that reset the password an error message, informing them that the Password Reset was unsucessful. Debugging If the call made to the endpoint returns anything other than a success code, if logging is correctly configured, a error will be logged by the API containing the returned status code.","title":"Password Reset Endpoint"},{"location":"Webhooks/password_reset_endpoint.html#configuration","text":"To enable the Password Reset webhook within AdminUI, you must first have configured a webhook client for authorization with AdminUI and IdentityServer. For more information see Webhooks You will then need to create an Endpoint secured and Authenticated by your IdentityServer that uses the admin_ui_webhooks scope for authorization. Once you have your Endpoint configured, you can set the PasswordResetEndpoint config setting with the AdminUI API config with Url for your endpoint. When this setting has a value, a button on the User details page that triggers your password reset webhook will appear.","title":"Configuration"},{"location":"Webhooks/password_reset_endpoint.html#endpoint-specification","text":"AdminUI expects your endpoint to meet the following requirements: Accept POST Accept JSON Accept an email in the body The request made by AdminUI will look like the following:","title":"Endpoint Specification"},{"location":"Webhooks/password_reset_endpoint.html#headers","text":"Content-Type: application/json Authorization: Bearer xyz","title":"Headers"},{"location":"Webhooks/password_reset_endpoint.html#body","text":"{ \"email\": \"string\" }","title":"Body"},{"location":"Webhooks/password_reset_endpoint.html#response","text":"On a successful Password Reset a 200 OK response should be returned, anything other than a success code will show the User the that reset the password an error message, informing them that the Password Reset was unsucessful.","title":"Response"},{"location":"Webhooks/password_reset_endpoint.html#debugging","text":"If the call made to the endpoint returns anything other than a success code, if logging is correctly configured, a error will be logged by the API containing the returned status code.","title":"Debugging"},{"location":"Webhooks/user_registration_endpoint.html","text":"A Webhook for triggering logic upon a user creation within AdminUI. This could be used for finialising account creation, setting up passwords, or sending out communications. Configuration To enable the User Registration webhook within AdminUI, you must first have configured a webhook Client for authorization with AdminUI and IdentityServer. For more information see Webhooks You will then need to create an Endpoint secured and Authenticated by your IdentityServer that uses the admin_ui_webhooks scope for authorization. Once you have your Endpoint configured, you can set the RegistrationConfirmationEndpoint config setting with the AdminUI API config with Url for your endpoint. If this field is set then on successful User creation this Webhook will be triggered. Endpoint AdminUI expects your endpoint to meet the following requirements: Accept POST Accept JSON Accept an email in the body The request made by AdminUI will look like the following: Headers Content-Type: application/json Authorization: Bearer xyz Body { \"email\": \"string\" } Response On a successful Password Reset a 200 OK response should be returned, anything other than a success code will show the User the that reset the password an error message, informing them that the Password Reset was unsucessful. Debugging If the call made to the endpoint returns anything other than a success code, if logging is correctly configured, a error will be logged by the API containing the returned status code.","title":"User Registration Endpoint"},{"location":"Webhooks/user_registration_endpoint.html#configuration","text":"To enable the User Registration webhook within AdminUI, you must first have configured a webhook Client for authorization with AdminUI and IdentityServer. For more information see Webhooks You will then need to create an Endpoint secured and Authenticated by your IdentityServer that uses the admin_ui_webhooks scope for authorization. Once you have your Endpoint configured, you can set the RegistrationConfirmationEndpoint config setting with the AdminUI API config with Url for your endpoint. If this field is set then on successful User creation this Webhook will be triggered.","title":"Configuration"},{"location":"Webhooks/user_registration_endpoint.html#endpoint","text":"AdminUI expects your endpoint to meet the following requirements: Accept POST Accept JSON Accept an email in the body The request made by AdminUI will look like the following:","title":"Endpoint"},{"location":"Webhooks/user_registration_endpoint.html#headers","text":"Content-Type: application/json Authorization: Bearer xyz","title":"Headers"},{"location":"Webhooks/user_registration_endpoint.html#body","text":"{ \"email\": \"string\" }","title":"Body"},{"location":"Webhooks/user_registration_endpoint.html#response","text":"On a successful Password Reset a 200 OK response should be returned, anything other than a success code will show the User the that reset the password an error message, informing them that the Password Reset was unsucessful.","title":"Response"},{"location":"Webhooks/user_registration_endpoint.html#debugging","text":"If the call made to the endpoint returns anything other than a success code, if logging is correctly configured, a error will be logged by the API containing the returned status code.","title":"Debugging"},{"location":"Webhooks/webhooks.html","text":"Webhooks AdminUI contains two webhooks to extend AdminUI functionality and integrate it with your IdentityServer and custom Identity needs. These webhooks hold no functionality themselves but call secured endpoints to trigger outside functionality, this could within your IdentityServer instance or a separate API. The Password Reset webhook will allow AdminUI to trigger custom password reset logic contained elsewhere. And the User registration webhook will trigger any additional account setup process your security solution might have. Password Reset If properly configured on a User's account page, a Password Reset button will be avalible for triggering the webhook. In order to configure this web you must first set up a Webhooks Client in AdminUI and a have an avalible Endpoint to consume the webhook. The Endpoint Url is set in the API config under the field PasswordResetEndpoint . For more information on how to create an Endpoint for Password Reset see Password Reset Endpoint . User registration If account creation succeeds and the User registration hook has been configured, then the webhook will trigger. The prefered method to finalise account creation and ask users to setup their intial password is by using this webhook. In order to configure this web you must first set up a Webhooks Client in AdminUI and a have an avalible Endpoint to consume the webhook. The Endpoint URL is set in the API config under the field RegistrationConfirmationEndpoint . For more information on how to create an Endpoint for User registration see User registration Endpoint . Authorization The webhooks will need to be to secured by your IdentityServer, AdminUI webhooks use the admin_ui_webhooks scope for authorization. To ensure your webhooks are secured against public use, they should check for a bearer token, issued by your IdentityServer installation, that contains this scope. Client To allow AdminUI to request access tokens for these webhooks, a new client must be created within your IdentityServer. Both the Password Reset and the User registration webhooks use the same Client. This client should have the following configuration: client_credentials grant type (a Machine to Machine Client within AdminUI) can request the admin_ui_webhooks scope have a client secret Once this Client has been created, the Client ID and the Client Secret must be set in the API config under the ClientId and ClientSecret fields.","title":"Webhooks"},{"location":"Webhooks/webhooks.html#webhooks","text":"AdminUI contains two webhooks to extend AdminUI functionality and integrate it with your IdentityServer and custom Identity needs. These webhooks hold no functionality themselves but call secured endpoints to trigger outside functionality, this could within your IdentityServer instance or a separate API. The Password Reset webhook will allow AdminUI to trigger custom password reset logic contained elsewhere. And the User registration webhook will trigger any additional account setup process your security solution might have.","title":"Webhooks"},{"location":"Webhooks/webhooks.html#password-reset","text":"If properly configured on a User's account page, a Password Reset button will be avalible for triggering the webhook. In order to configure this web you must first set up a Webhooks Client in AdminUI and a have an avalible Endpoint to consume the webhook. The Endpoint Url is set in the API config under the field PasswordResetEndpoint . For more information on how to create an Endpoint for Password Reset see Password Reset Endpoint .","title":"Password Reset"},{"location":"Webhooks/webhooks.html#user-registration","text":"If account creation succeeds and the User registration hook has been configured, then the webhook will trigger. The prefered method to finalise account creation and ask users to setup their intial password is by using this webhook. In order to configure this web you must first set up a Webhooks Client in AdminUI and a have an avalible Endpoint to consume the webhook. The Endpoint URL is set in the API config under the field RegistrationConfirmationEndpoint . For more information on how to create an Endpoint for User registration see User registration Endpoint .","title":"User registration"},{"location":"Webhooks/webhooks.html#authorization","text":"The webhooks will need to be to secured by your IdentityServer, AdminUI webhooks use the admin_ui_webhooks scope for authorization. To ensure your webhooks are secured against public use, they should check for a bearer token, issued by your IdentityServer installation, that contains this scope.","title":"Authorization"},{"location":"Webhooks/webhooks.html#client","text":"To allow AdminUI to request access tokens for these webhooks, a new client must be created within your IdentityServer. Both the Password Reset and the User registration webhooks use the same Client. This client should have the following configuration: client_credentials grant type (a Machine to Machine Client within AdminUI) can request the admin_ui_webhooks scope have a client secret Once this Client has been created, the Client ID and the Client Secret must be set in the API config under the ClientId and ClientSecret fields.","title":"Client"}]}